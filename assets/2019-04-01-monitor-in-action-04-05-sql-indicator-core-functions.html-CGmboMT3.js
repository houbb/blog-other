import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a as n,o as p}from"./app-CEDSurVN.js";const r={};function o(h,a){return p(),t("div",null,a[0]||(a[0]=[n('<h1 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h1><p>我们如果想设计一个 SQL 指标/规则 系统，应该有哪些核心能力？</p><h1 id="基础" tabindex="-1"><a class="header-anchor" href="#基础"><span>基础</span></a></h1><h2 id="用户-权限管理" tabindex="-1"><a class="header-anchor" href="#用户-权限管理"><span>用户+权限管理</span></a></h2><h2 id="系统设置" tabindex="-1"><a class="header-anchor" href="#系统设置"><span>系统设置</span></a></h2><p>一些系统级别的常量+枚举</p><h2 id="app-管理" tabindex="-1"><a class="header-anchor" href="#app-管理"><span>app 管理</span></a></h2><p>相关应用管理</p><h2 id="数据源管理" tabindex="-1"><a class="header-anchor" href="#数据源管理"><span>数据源管理</span></a></h2><p>人工维护数据源</p><p>前期不失为一种过渡方案</p><h2 id="告警模板" tabindex="-1"><a class="header-anchor" href="#告警模板"><span>告警模板</span></a></h2><p>所有的模板支持自定义</p><h2 id="日志记录" tabindex="-1"><a class="header-anchor" href="#日志记录"><span>日志记录</span></a></h2><p>审计日志留痕</p><p>方便查问题+找出变更记录</p><h1 id="进阶" tabindex="-1"><a class="header-anchor" href="#进阶"><span>进阶</span></a></h1><h2 id="报警-报表-直发" tabindex="-1"><a class="header-anchor" href="#报警-报表-直发"><span>报警+报表+直发</span></a></h2><p>报警就是报警</p><p>报表，额外查询内容</p><p>直发：查询内容直接发送出来</p><h2 id="配置信息" tabindex="-1"><a class="header-anchor" href="#配置信息"><span>配置信息</span></a></h2><p>定时全量加载</p><p>构建对应的 datasource 数据源，动态更新</p><h2 id="性能问题" tabindex="-1"><a class="header-anchor" href="#性能问题"><span>性能问题</span></a></h2><p>针对比较慢的SQL，执行时熔断</p><p>提前构建好数据源</p><p>添加适当的缓存</p><h2 id="数据量问题" tabindex="-1"><a class="header-anchor" href="#数据量问题"><span>数据量问题</span></a></h2><p>针对量特别大的请求，熔断</p><h2 id="有效性问题" tabindex="-1"><a class="header-anchor" href="#有效性问题"><span>有效性问题</span></a></h2><p>链接因为引入缓存</p><p>所以可以需要定期验证 connection 有效性，避免域名切换等问题，导致的不可用。</p><h2 id="分布式调度问题" tabindex="-1"><a class="header-anchor" href="#分布式调度问题"><span>分布式调度问题</span></a></h2><p>可以抢锁，一个人负责任务的分分配。</p><p>ipList: 1min 一次的心跳，只读取最近 5min 内有心跳的服务列表。</p><p>执行的时候，每台机器只执行属于自己的数据。</p><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1><p>无</p>',39)]))}const c=e(r,[["render",o]]),d=JSON.parse('{"path":"/posts/devops/2019-04-01-monitor-in-action-04-05-sql-indicator-core-functions.html","title":"监控系统实战-04-05-SQL 指标应该有哪些核心能力？","lang":"zh-CN","frontmatter":{"title":"监控系统实战-04-05-SQL 指标应该有哪些核心能力？","date":"2018-11-25T00:00:00.000Z","categories":["Devops"],"tags":["devops","monitor","apm","zabbix","sh"],"published":true,"description":"背景 我们如果想设计一个 SQL 指标/规则 系统，应该有哪些核心能力？ 基础 用户+权限管理 系统设置 一些系统级别的常量+枚举 app 管理 相关应用管理 数据源管理 人工维护数据源 前期不失为一种过渡方案 告警模板 所有的模板支持自定义 日志记录 审计日志留痕 方便查问题+找出变更记录 进阶 报警+报表+直发 报警就是报警 报表，额外查询内容 直...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/blog-other/posts/devops/2019-04-01-monitor-in-action-04-05-sql-indicator-core-functions.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"监控系统实战-04-05-SQL 指标应该有哪些核心能力？"}],["meta",{"property":"og:description","content":"背景 我们如果想设计一个 SQL 指标/规则 系统，应该有哪些核心能力？ 基础 用户+权限管理 系统设置 一些系统级别的常量+枚举 app 管理 相关应用管理 数据源管理 人工维护数据源 前期不失为一种过渡方案 告警模板 所有的模板支持自定义 日志记录 审计日志留痕 方便查问题+找出变更记录 进阶 报警+报表+直发 报警就是报警 报表，额外查询内容 直..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-22T03:45:14.000Z"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"monitor"}],["meta",{"property":"article:tag","content":"apm"}],["meta",{"property":"article:tag","content":"zabbix"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:published_time","content":"2018-11-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-22T03:45:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"监控系统实战-04-05-SQL 指标应该有哪些核心能力？\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2018-11-25T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-22T03:45:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1755834314000,"updatedTime":1755834314000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1}]},"readingTime":{"minutes":1.22,"words":367},"filePathRelative":"posts/devops/2019-04-01-monitor-in-action-04-05-sql-indicator-core-functions.md","localizedDate":"2018年11月25日","excerpt":"\\n<p>我们如果想设计一个 SQL 指标/规则 系统，应该有哪些核心能力？</p>\\n<h1>基础</h1>\\n<h2>用户+权限管理</h2>\\n<h2>系统设置</h2>\\n<p>一些系统级别的常量+枚举</p>\\n<h2>app 管理</h2>\\n<p>相关应用管理</p>\\n<h2>数据源管理</h2>\\n<p>人工维护数据源</p>\\n<p>前期不失为一种过渡方案</p>\\n<h2>告警模板</h2>\\n<p>所有的模板支持自定义</p>\\n<h2>日志记录</h2>\\n<p>审计日志留痕</p>\\n<p>方便查问题+找出变更记录</p>\\n<h1>进阶</h1>\\n<h2>报警+报表+直发</h2>\\n<p>报警就是报警</p>","autoDesc":true}');export{c as comp,d as data};
