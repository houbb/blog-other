import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a,b as e,e as r,w as p,r as d,o as t,d as c}from"./app-uJE4P3e0.js";const o={};function h(b,s){const i=d("RouteLink");return t(),l("div",null,[s[1]||(s[1]=a(`<h1 id="拓展阅读" tabindex="-1"><a class="header-anchor" href="#拓展阅读"><span>拓展阅读</span></a></h1><p><a href="https://houbb.github.io/2016/10/14/devops-01-overview" target="_blank" rel="noopener noreferrer">Devops-01-devops 是什么？</a></p><p><a href="https://houbb.github.io/2016/10/14/devops-02-jpom" target="_blank" rel="noopener noreferrer">Devops-02-Jpom 简而轻的低侵入式在线构建、自动部署、日常运维、项目监控软件</a></p><p><a href="https://houbb.github.io/2016/10/14/devops-sonarqube-01-intro" target="_blank" rel="noopener noreferrer">代码质量管理 SonarQube-01-入门介绍</a></p><p><a href="https://houbb.github.io/2016/10/14/project-manage-jira-01-intro" target="_blank" rel="noopener noreferrer">项目管理平台-01-jira 入门介绍 缺陷跟踪管理系统，为针对缺陷管理、任务追踪和项目管理的商业性应用软件</a></p><p><a href="https://houbb.github.io/2016/10/14/project-manage-phabricator-01-overview" target="_blank" rel="noopener noreferrer">项目管理平台-01-Phabricator 入门介绍 一套集成的强大工具，帮助公司构建更高质量的软件</a></p><p><a href="https://houbb.github.io/2016/10/14/devops-jenkins-01-intro" target="_blank" rel="noopener noreferrer">持续集成平台 01 jenkins 入门介绍</a></p><p><a href="https://houbb.github.io/2016/10/14/devops-jenkins-02-plugin" target="_blank" rel="noopener noreferrer">持续集成平台 02 jenkins plugin 插件</a></p><p><a href="https://houbb.github.io/2016/04/26/test-coverage-05-sonarqube" target="_blank" rel="noopener noreferrer">test coverate-05-测试覆盖率 SonarQube 是一个综合性的代码质量管理平台，其中包含了对测试覆盖率的支持</a></p><p><a href="https://houbb.github.io/2019/12/18/docker-learn-29-install-devops-sonar" target="_blank" rel="noopener noreferrer">Docker learn-29-docker 安装 sonarQube with mysql</a></p><h1 id="phabricator" tabindex="-1"><a class="header-anchor" href="#phabricator"><span>Phabricator</span></a></h1><p>Phabricator 是一套集成的强大工具，帮助公司构建更高质量的软件。</p><blockquote><p><a href="https://www.phacility.com/" target="_blank" rel="noopener noreferrer">Phabricator</a></p></blockquote><h1 id="在-mac-上安装" tabindex="-1"><a class="header-anchor" href="#在-mac-上安装"><span>在 Mac 上安装</span></a></h1><blockquote><p><a href="https://secure.phabricator.com/book/phabricator/article/installation_guide/" target="_blank" rel="noopener noreferrer">指南</a></p></blockquote><h2 id="一、安装所需组件" tabindex="-1"><a class="header-anchor" href="#一、安装所需组件"><span>一、安装所需组件</span></a></h2><ul><li>git</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:~ houbinbin$ git --version</span></span>
<span class="line"><span>git version 2.8.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><a href="https://coolestguidesontheplanet.com/how-to-install-php-mysql-apache-on-os-x-10-6/" target="_blank" rel="noopener noreferrer">AMP</a></p></blockquote><ul><li>Apache</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:~ houbinbin$ httpd -v</span></span>
<span class="line"><span>Server version: Apache/2.4.16 (Unix)</span></span>
<span class="line"><span>Server built:   Jul 31 2015 15:53:26</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>php</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:~ houbinbin$ php -v</span></span>
<span class="line"><span>PHP 5.5.30 (cli) (built: Oct 23 2015 17:21:45)</span></span>
<span class="line"><span>Copyright (c) 1997-2015 The PHP Group</span></span>
<span class="line"><span>Zend Engine v2.5.0, Copyright (c) 1998-2015 Zend Technologies</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>MySQL</li></ul><blockquote><p><a href="https://www.mysql.com" target="_blank" rel="noopener noreferrer">MySQL</a></p></blockquote><p>下载以下项目</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ git clone https://github.com/phacility/libphutil.git</span></span>
<span class="line"><span>$ git clone https://github.com/phacility/arcanist.git</span></span>
<span class="line"><span>$ git clone https://github.com/phacility/phabricator.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后</p><p>这个为实践路径。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:phabricator houbinbin$ pwd</span></span>
<span class="line"><span>/Users/houbinbin/IT/anybuy/phabricator</span></span>
<span class="line"><span>houbinbindeMacBook-Pro:phabricator houbinbin$ git clone https://github.com/phacility/libphutil.git</span></span>
<span class="line"><span>Cloning into &#39;libphutil&#39;...</span></span>
<span class="line"><span>remote: Counting objects: 14006, done.</span></span>
<span class="line"><span>remote: Compressing objects: 100% (104/104), done.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、配置-apache" tabindex="-1"><a class="header-anchor" href="#二、配置-apache"><span>二、配置 Apache</span></a></h2><blockquote><p><a href="http://www.cnblogs.com/surge/p/4168220.html" target="_blank" rel="noopener noreferrer">Mac 中的 Apache</a></p></blockquote><ul><li>启动 &amp; 重启</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ sudo apachectl -k start</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ sudo apachectl -k restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>浏览器</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>localhost</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>找到 <code>httpd.conf</code></li></ul><p>使用命令行和 vim 编辑或按:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>command + shift + G</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输入</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/etc/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>来找到 apache 目录。</p><blockquote><p><a href="http://blog.csdn.net/ryoho2015/article/details/50724020" target="_blank" rel="noopener noreferrer">在 Mac 上安装</a></p></blockquote><p>错误:</p><p>Invalid command &#39;RewriteEngine&#39;, perhaps misspelled or defined by a module not included in the server configuration</p><ul><li>编辑 /etc/apache2/httpd.conf</li></ul><p>去掉以下命令前的 <code>#</code>:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>LoadModule rewrite_module libexec/apache2/mod_rewrite.so</span></span>
<span class="line"><span>LoadModule php5_module libexec/apache2/libphp5.so</span></span>
<span class="line"><span>Include /private/etc/apache2/extra/httpd-vhosts.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>编辑 /etc/apache2/extra/httpd-vhosts.conf</li></ul><p>如下所示:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 虚拟主机</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 必需的模块: mod_log_config</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 如果您想在您的机器上维护多个域名/主机名，</span></span>
<span class="line"><span># 您可以为它们设置虚拟主机容器。大多数配置</span></span>
<span class="line"><span># 仅使用基于名称的虚拟主机，所以服务器不需要担心</span></span>
<span class="line"><span># IP 地址。这由下面指令中的星号表示。</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 在尝试设置虚拟主机之前，请查看</span></span>
<span class="line"><span># </span></span>
<span class="line"><span># 获取更多详细信息。</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 您可以使用命令行选项 &#39;-S&#39; 来验证您的虚拟主机</span></span>
<span class="line"><span># 配置。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 虚拟主机示例:</span></span>
<span class="line"><span># 几乎所有的 Apache 指令都可以放在一个虚拟主机容器中。</span></span>
<span class="line"><span># 第一个虚拟主机部分用于所有未匹配任何 ServerName 或 ServerAlias 的请求。</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Listen 1234</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Require all granted</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>  # 将此更改为指向您的主机的域名。</span></span>
<span class="line"><span>  ServerName www.anybuy.com</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  # 将此更改为从 GitHub 检出 &#39;phabricator&#39; 时所放置的路径</span></span>
<span class="line"><span>  # 注意确保最后包括 &quot;/webroot&quot;！</span></span>
<span class="line"><span>  DocumentRoot /Users/houbinbin/IT/anybuy/phabricator/phabricator/webroot</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  RewriteEngine on</span></span>
<span class="line"><span>  RewriteRule ^/rsrc/(.*)     -                       [L,QSA]</span></span>
<span class="line"><span>  RewriteRule ^/favicon.ico   -                       [L,QSA]</span></span>
<span class="line"><span>  RewriteRule ^(.*)$          /index.php?__path__=$1  [B,L,QSA]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意:</p><ol><li>Listen 1234 指定端口号为 1234</li><li>ServerName <code>www.anybuy.com</code> 后者为项目域名,本地可使用<code>127.0.0.1</code></li><li><code>/Users/houbinbin/IT/anybuy/phabricator/phabricator/webroot</code> 2处路径请替换成自己的实际路径。</li></ol><ul><li>重启 Apache，然后您将看到首页</li></ul><h2 id="配置-mysql" tabindex="-1"><a class="header-anchor" href="#配置-mysql"><span>配置 mysql</span></a></h2><p>这段代码是用来配置 Phabricator 连接到 MySQL 数据库的信息。其中包括主机名、端口号、用户名和密码。</p><p>接着，它要求你运行存储升级脚本以设置 Phabricator 的数据库模式。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/Users/houbinbin/IT/anybuy/phabricator/phabricator/bin/storage upgrade</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>运行这个命令后，可能会看到类似以下的日志输出：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Before running storage upgrades, you should take down the Phabricator web</span></span>
<span class="line"><span>interface and stop any running Phabricator daemons (you can disable this</span></span>
<span class="line"><span>warning with --force).</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Are you ready to continue? [y/N] y</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Loading quickstart template...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:db.packages&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160201.revision.properties.1.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160201.revision.properties.2.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160706.phame.blog.parentdomain.2.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160706.phame.blog.parentsite.1.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160707.calendar.01.stub.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160711.files.01.builtin.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160711.files.02.builtinkey.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160713.event.01.host.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160715.event.01.alldayfrom.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160715.event.02.alldayto.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160715.event.03.allday.php&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160720.calendar.invitetxn.php&#39;...</span></span>
<span class="line"><span>Restructuring calendar invite transactions...</span></span>
<span class="line"><span>Done.</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160721.pack.01.pub.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160721.pack.02.pubxaction.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160721.pack.03.edge.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160721.pack.04.pkg.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160721.pack.05.pkgxaction.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160721.pack.06.version.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160721.pack.07.versionxaction.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160722.pack.01.pubngrams.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160722.pack.02.pkgngrams.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160722.pack.03.versionngrams.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160810.commit.01.summarylength.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160824.connectionlog.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160824.repohint.01.hint.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160824.repohint.02.movebad.php&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160824.repohint.03.nukebad.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160825.ponder.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160829.pastebin.01.language.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160829.pastebin.02.language.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160913.conpherence.topic.1.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160919.repo.messagecount.sql&#39;...</span></span>
<span class="line"><span>Applying patch &#39;phabricator:20160919.repo.messagedefault.sql&#39;...</span></span>
<span class="line"><span>Storage is up to date. Use &#39;storage status&#39; for details.</span></span>
<span class="line"><span>Verifying database schemata...</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Database                 Table                    Name              Issues</span></span>
<span class="line"><span>phabricator_calendar     calendar_event           userPHID_dateFrom Surplus Key</span></span>
<span class="line"><span>phabricator_calendar     calendar_event           key_date          Missing Key</span></span>
<span class="line"><span>phabricator_file         file_transaction_comment key_draft         Surplus Key</span></span>
<span class="line"><span>phabricator_harbormaster harbormaster_build       key_initiator     Missing Key</span></span>
<span class="line"><span>phabricator_herald       herald_rule              name              Better Collation Available</span></span>
<span class="line"><span>phabricator_herald       herald_rule              key_name          Missing Key</span></span>
<span class="line"><span>phabricator_packages     packages_package         name              Better Collation Available</span></span>
<span class="line"><span>phabricator_packages     packages_publisher       name              Better Collation Available</span></span>
<span class="line"><span>phabricator_search       search_document          key_type          Missing Key</span></span>
<span class="line"><span>phabricator_worker       worker_archivetask       key_modified      Missing Key</span></span>
<span class="line"><span>Applying schema adjustments...</span></span>
<span class="line"><span>Done.</span></span>
<span class="line"><span>Completed applying all schema adjustments.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="访问-phabricator" tabindex="-1"><a class="header-anchor" href="#访问-phabricator"><span>访问 Phabricator</span></a></h3><p>浏览器打开页面 <a href="http://127.0.0.1:1234/" target="_blank" rel="noopener noreferrer">http://127.0.0.1:1234/</a></p><h1 id="在-ubuntu-上安装" tabindex="-1"><a class="header-anchor" href="#在-ubuntu-上安装"><span>在 Ubuntu 上安装</span></a></h1><p>如果你正在 Ubuntu 上安装，可以使用提供的安装脚本来处理本文中讨论的大部分事项：</p><blockquote><p><a href="https://secure.phabricator.com/diffusion/P/browse/master/scripts/install/install_ubuntu.sh" target="_blank" rel="noopener noreferrer">install_ubuntu.sh</a></p></blockquote><blockquote><p><a href="https://my.oschina.net/yoyoko/blog/126325" target="_blank" rel="noopener noreferrer">安装指南 中文</a></p></blockquote><blockquote><p><a href="http://www.linuxdiyf.com/linux/16060.html" target="_blank" rel="noopener noreferrer">安装指南 中文</a></p></blockquote><h2 id="一、-install-ubuntu-sh" tabindex="-1"><a class="header-anchor" href="#一、-install-ubuntu-sh"><span>一、 install_ubuntu.sh</span></a></h2><ul><li><p>访问 <a href="https://secure.phabricator.com/diffusion/P/browse/master/scripts/install/install_ubuntu.sh" target="_blank" rel="noopener noreferrer">install_ubuntu.sh</a></p></li><li><p>创建文件 <code>install_ubuntu.sh</code></p></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ vi install_ubuntu.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>将 <a href="https://secure.phabricator.com/diffusion/P/browse/master/scripts/install/install_ubuntu.sh" target="_blank" rel="noopener noreferrer">install_ubuntu.sh</a> 的脚本内容复制到 <code>install_ubuntu.sh</code> 中；</p></li><li><p>运行</p></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ sudo chmod 755 install_ubuntu.sh</span></span>
<span class="line"><span>$ sudo ./install_ubuntu.sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span>PHABRICATOR UBUNTU INSTALL SCRIPT</span></span>
<span class="line"><span>This script will install Phabricator and all of its core dependencies.</span></span>
<span class="line"><span>Run it from the directory you want to install into.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Phabricator will be installed to: /root/code.</span></span>
<span class="line"><span>Press RETURN to continue, or ^C to cancel.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、-config-apache" tabindex="-1"><a class="header-anchor" href="#二、-config-apache"><span>二、 Config Apache</span></a></h2><ul><li>一些命令</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   /etc/init.d/apache2 start</span></span>
<span class="line"><span>$   /etc/init.d/apache2 restart</span></span>
<span class="line"><span>$   /etc/init.d/apache2 stop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><a href="http://www.oschina.net/question/191440_125562" target="_blank" rel="noopener noreferrer">配置 apache</a></p></blockquote><blockquote><p><a href="http://www.cnblogs.com/ylan2009/archive/2012/02/25/2368028.html" target="_blank" rel="noopener noreferrer">Ubuntu Apache 中文</a></p></blockquote><ul><li>在 <code>/etc/apache2/httpd.conf</code> 中添加以下内容：</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>LoadModule rewrite_module libexec/apache2/mod_rewrite.so</span></span>
<span class="line"><span>LoadModule php5_module libexec/apache2/libphp5.so</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>编辑 <code>/etc/apache2/apache2.conf</code>：</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   vi /etc/apache2/apache2.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>添加以下内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ServerName 139.196.28.125</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Require all granted</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>编辑 <code>000-default.conf</code>：</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   vim /etc/apache2/sites-enabled/000-default.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将 <em>DocumentRoot</em> 的路径更改为：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/root/code/phabricator/webroot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>添加以下内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>RewriteEngine on</span></span>
<span class="line"><span>RewriteRule ^/rsrc/(.*)     -                       [L,QSA]</span></span>
<span class="line"><span>RewriteRule ^/favicon.ico   -                       [L,QSA]</span></span>
<span class="line"><span>RewriteRule ^(.*)$          /index.php?__path__=$1  [B,L,QSA]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>重启 Apache：</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$    /etc/init.d/apache2 restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="三、-403-forbidden" tabindex="-1"><a class="header-anchor" href="#三、-403-forbidden"><span>三、 403 Forbidden</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Forbidden</span></span>
<span class="line"><span></span></span>
<span class="line"><span>You don&#39;t have permission to access / on this server.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Apache/2.4.7 (Ubuntu) Server at 139.196.28.125 Port 1234</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我认为，即使您添加了这个，还是会出现403错误。也许您应该更改项目包的权限。</p><p>为了方便起见，我将<code>phabricator</code>相关的包移动到了<code>var/www/</code>，最终，它成功了~~~T_T</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>    Require all granted</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、-config-mysql" tabindex="-1"><a class="header-anchor" href="#四、-config-mysql"><span>四、 Config mysql</span></a></h2><ul><li>设置配置</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/root/code/phabricator/bin/config set mysql.host localhost</span></span>
<span class="line"><span>/root/code/phabricator/bin/config set mysql.port 3306</span></span>
<span class="line"><span>/root/code/phabricator/bin/config set mysql.user root</span></span>
<span class="line"><span>/root/code/phabricator/bin/config set mysql.pass ****</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>更新配置</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/root/code/phabricator/bin/storage upgrade</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="arcanist" tabindex="-1"><a class="header-anchor" href="#arcanist"><span>Arcanist</span></a></h1><p>arc 的主要用途是将变更发送到 <a href="https://secure.phabricator.com/book/phabricator/article/differential/" target="_blank" rel="noopener noreferrer">Differential</a> 进行审阅。</p><blockquote><p><a href="https://secure.phabricator.com/book/phabricator/article/arcanist_diff/" target="_blank" rel="noopener noreferrer">arc</a></p></blockquote><blockquote><p><a href="http://www.jianshu.com/p/b1a75a14638c" target="_blank" rel="noopener noreferrer">代码审阅 中文</a></p></blockquote><h2 id="一、在-windows-上安装" tabindex="-1"><a class="header-anchor" href="#一、在-windows-上安装"><span>一、在 Windows 上安装</span></a></h2><ul><li>安装 git</li></ul><blockquote><p><a href="https://git-scm.com/" target="_blank" rel="noopener noreferrer">git</a></p></blockquote><ul><li>安装 php</li></ul><ol><li><p>下载 <a href="http://www.php.net/" target="_blank" rel="noopener noreferrer">php</a> 压缩包</p></li><li><p>解压到包中，例如：<code>C:\\php</code></p></li><li><p>复制 <code>C:\\php\\php.ini-production</code>，并重命名为 <code>php.ini</code></p></li><li><p>编辑 php.ini，移除以下行前的 <code>;</code>：</p></li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>; extension_dir = &quot;ext&quot;</span></span>
<span class="line"><span>;extension=php_mbstring.dll</span></span>
<span class="line"><span>;extension=php_curl.dll</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安装组件</li></ul><blockquote><p>安装</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   some_install_path/ $ git clone https://github.com/phacility/libphutil.git</span></span>
<span class="line"><span>$   some_install_path/ $ git clone https://github.com/phacility/arcanist.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>配置</p></blockquote><p>编辑 <code>~/.bash_profile</code> 文件</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>M3_HOME=/usr/local/maven/maven3.3.9</span></span>
<span class="line"><span>ARC_HOME=/Users/houbinbin/it/code/arcanist</span></span>
<span class="line"><span></span></span>
<span class="line"><span>PATH=$ARC_HOME/bin:$M3_HOME/bin:$PATH</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>路径：export PATH=&quot;/Users/houbinbin/it/code/arcanist/bin&quot;</span></span>
<span class="line"><span>编辑：（mac建议用vi）：arc set-config editor &quot;/usr/bin/vi&quot;</span></span>
<span class="line"><span>地址：arc set-config default http://www.XXX.com/</span></span>
<span class="line"><span>凭证：yourproject/ $ arc install-certificate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>刷新配置文件：</p><p><code>source .bash_profile</code></p><ul><li>测试</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   arc help</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="二、相关命令" tabindex="-1"><a class="header-anchor" href="#二、相关命令"><span>二、相关命令</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>arc diff：将代码差异（审阅请求）发送到 Differential 功能</span></span>
<span class="line"><span>arc list：显示尚未提交的代码信息</span></span>
<span class="line"><span>arc branch [分支名称]：创建并切换分支</span></span>
<span class="line"><span>arc land [分支名称]：在代码审核通过后，合并主分支</span></span>
<span class="line"><span>arc tasks：显示当前任务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="issues" tabindex="-1"><a class="header-anchor" href="#issues"><span>Issues</span></a></h1><h2 id="_0、未配置身份验证提供程序" tabindex="-1"><a class="header-anchor" href="#_0、未配置身份验证提供程序"><span>0、未配置身份验证提供程序</span></a></h2><p>如果不设置身份验证提供程序，在其他计算机上登录时，将无法进行身份验证。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>http://XXX.XXX.XX.XXX/auth/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将地址替换为您的对应 IP 地址，然后点击【添加提供程序】。</p><p>您可以选择最常见的一个：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>提供程序</span></span>
<span class="line"><span>	用户名/密码</span></span>
<span class="line"><span>允许用户使用用户名和密码登录或注册。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后保持其他设置默认，点击【添加提供程序】。</p><p>接着，访问 <code>http://XXX.XXX.XX.XXX/config/edit/auth.require-approval/</code>，选择 <strong>要求管理员批准帐户</strong>，这样用户注册时就需要管理员审批。</p><h2 id="_1、未配置基本-uri" tabindex="-1"><a class="header-anchor" href="#_1、未配置基本-uri"><span>1、未配置基本 URI</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$    /var/www/phabricator/bin/config set phabricator.base-uri &#39;http://139.196.28.125:1234/&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2、phabricator-守护进程未运行" tabindex="-1"><a class="header-anchor" href="#_2、phabricator-守护进程未运行"><span>2、Phabricator 守护进程未运行</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   /var/www/phabricator/bin/phd start</span></span>
<span class="line"><span></span></span>
<span class="line"><span>释放活动任务租约...</span></span>
<span class="line"><span>释放了 0 个任务租约。</span></span>
<span class="line"><span>启动守护进程：</span></span>
<span class="line"><span>(日志将出现在 &quot;/var/tmp/phd/log/daemons.log&quot; 中。)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    PhabricatorRepositoryPullLocalDaemon (静态)</span></span>
<span class="line"><span>    PhabricatorTriggerDaemon (静态)</span></span>
<span class="line"><span>    PhabricatorTaskmasterDaemon (自动扩展：组=任务，池=4，保留=0)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>完成。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3、服务器时区未配置" tabindex="-1"><a class="header-anchor" href="#_3、服务器时区未配置"><span>3、服务器时区未配置</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   vim /etc/php5/apache2/php.ini</span></span>
<span class="line"><span></span></span>
<span class="line"><span>date.timezone = Asia/Shanghai</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要重新启动 apache2 以使其生效。</p><h2 id="_4、禁用-php-的-always-populate-raw-post-data" tabindex="-1"><a class="header-anchor" href="#_4、禁用-php-的-always-populate-raw-post-data"><span>4、禁用 PHP 的 always_populate_raw_post_data</span></a></h2><p>在您的 PHP 配置中，“always_populate_raw_post_data” 键被设置为除了“-1”以外的某个值。<br> 这可能会导致 PHP 在进程启动期间引发弃用警告。将此选项设置为“-1”可以防止这些警告出现。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   vi /etc/php5/apache2/php.ini</span></span>
<span class="line"><span></span></span>
<span class="line"><span>always_populate_raw_post_data = -1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$   /etc/init.d/apache2 restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5、php-post-max-size-未配置" tabindex="-1"><a class="header-anchor" href="#_5、php-post-max-size-未配置"><span>5、PHP post_max_size 未配置</span></a></h2><p>调整您的 PHP 配置中的 <code>post_max_size</code> 至少为 <em>32MB</em>。当设置为较小的值时，大文件上传可能无法正常工作。</p><p>在文件中：<code>/etc/php5/apache2/php.ini</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>post_max_size = 32M</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重新启动 apache 使其生效。</p><h2 id="_6、设置邮件" tabindex="-1"><a class="header-anchor" href="#_6、设置邮件"><span>6、设置邮件</span></a></h2><ul><li>安装 sendmail</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   apt-get install sendmail</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>邮件</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>URL:    http://139.196.28.125:1234/config/group/metamta/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>metamta.default-address = 123456789@qq.com</span></span>
<span class="line"><span>metamta.domain = anybuy.com     // 根据您的喜好</span></span>
<span class="line"><span>metamta.mail-adapter = PhabricatorMailImplementationPHPMailerLiteAdapter</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        smtp--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        25000</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>PHPMailer</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>URL:    http://139.196.28.125:1234/config/group/phpmailer/</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>$   /var/www/phabricator/bin/config set phpmailer.smtp-host smtp.qq.com</span></span>
<span class="line"><span>$   /var/www/phabricator/bin/config set phpmailer.smtp-port 465</span></span>
<span class="line"><span>$   /var/www/phabricator/bin/config set phpmailer.smtp-user 123456789@qq.com</span></span>
<span class="line"><span>$   /var/www/phabricator/bin/config set phpmailer.smtp-password</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>发送失败</p></blockquote><p>您可以在以下路径找到邮件发送的信息：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/var/mail/root</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可能的错误包括：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>550 Ip frequency limited. http://service.mail.qq.com/cgi-bin/help?subtype=1&amp;&amp;id=20022&amp;&amp;no=1000725</span></span>
<span class="line"><span>554 5.0.0 Service unavailable</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><a href="http://wenku.baidu.com/view/b2fd127b312b3169a451a44a.html" target="_blank" rel="noopener noreferrer">提示</a></p></blockquote><p>如果邮件配置的是 SSL 协议，端口是 465，则需要开启相应端口。我开始配置的 SSL 没有成功，换回 25 端口，邮件就能发送了。如果发送没有成功，通过页面上的 <code>Daemons</code> 的控制台日志来查找原因。</p><blockquote><p><a href="http://blog.csdn.net/xylander23/article/details/50999646" target="_blank" rel="noopener noreferrer">发送</a></p></blockquote><h2 id="_7、编辑选项-phabricator-timezone" tabindex="-1"><a class="header-anchor" href="#_7、编辑选项-phabricator-timezone"><span>7、编辑选项：<code>phabricator.timezone</code></span></a></h2><blockquote><p><a href="http://php.net/manual/zh/timezones.asia.php" target="_blank" rel="noopener noreferrer">亚洲可用时区</a></p></blockquote><p>将值设置为 <code>Asia/Shanghai</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>http://127.0.0.1:1234/config/edit/phabricator.timezone/?issue=config.timezone</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_8、未配置基本-uri" tabindex="-1"><a class="header-anchor" href="#_8、未配置基本-uri"><span>8、未配置基本 URI</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:phabricator houbinbin$ bin/config set phabricator.base-uri &#39;http://127.0.0.1:1234/&#39;</span></span>
<span class="line"><span>在本地配置中设置了 &#39;phabricator.base-uri&#39;。</span></span>
<span class="line"><span>houbinbindeMacBook-Pro:phabricator houbinbin$ pwd</span></span>
<span class="line"><span>/Users/houbinbin/IT/anybuy/phabricator/phabricator</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9、禁用-php-的-always-populate-raw-post-data" tabindex="-1"><a class="header-anchor" href="#_9、禁用-php-的-always-populate-raw-post-data"><span>9、禁用 PHP 的 <code>always_populate_raw_post_data</code></span></a></h2><h2 id="_10、small-mysql-max-allowed-packet" tabindex="-1"><a class="header-anchor" href="#_10、small-mysql-max-allowed-packet"><span>10、Small MySQL &quot;max_allowed_packet&quot;</span></a></h2><p>(1) 在 Mac 上</p><p>默认情况下，Mac 没有 <code>my.cnf</code> 文件，复制并移动它：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:support-files houbinbin$ pwd</span></span>
<span class="line"><span>/usr/local/mysql/support-files</span></span>
<span class="line"><span>houbinbindeMacBook-Pro:support-files houbinbin$ ls</span></span>
<span class="line"><span>binary-configure	magic			my-default.cnf		mysql-log-rotate	mysql.server		mysqld_multi.server</span></span>
<span class="line"><span>houbinbindeMacBook-Pro:support-files houbinbin$ sudo cp my-default.cnf my.cnf</span></span>
<span class="line"><span>houbinbindeMacBook-Pro:support-files houbinbin$ sudo mv my.cnf /etc/my.cnf</span></span>
<span class="line"><span>houbinbindeMacBook-Pro:etc houbinbin$ pwd</span></span>
<span class="line"><span>/etc</span></span>
<span class="line"><span>houbinbindeMacBook-Pro:etc houbinbin$ vi my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更改 <code>max_allowed_packet</code> 的值：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>max_allowed_packet=41943040</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后，重新启动您的 MySQL</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo /usr/local/mysql/support-files/mysql.server restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>(2) 在 Ubuntu 14.04 上</p><p>建议的最小值为 &quot;33554432&quot;。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vi /etc/mysql/my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>编辑内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>max_allowed_packet = 32M</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重启 MySQL。</p><h2 id="_11、丢失仓库本地路径" tabindex="-1"><a class="header-anchor" href="#_11、丢失仓库本地路径"><span>11、丢失仓库本地路径</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   sudo mkdir -p &#39;/var/repo/&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_12、安装-pygments-以提高语法高亮" tabindex="-1"><a class="header-anchor" href="#_12、安装-pygments-以提高语法高亮"><span>12、安装 Pygments 以提高语法高亮</span></a></h2><p>点击 【编辑 &quot;pygments.enabled&quot;】，然后选择 <strong>使用 Pygments</strong>，最后点击 【保存配置项】</p><h2 id="_13、mysql-strict-all-tables-模式未设置" tabindex="-1"><a class="header-anchor" href="#_13、mysql-strict-all-tables-模式未设置"><span>13、MySQL STRICT_ALL_TABLES 模式未设置</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vi /etc/mysql/my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在 <code>[mysqld]</code> 下添加：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 添加 SQL 模式</span></span>
<span class="line"><span>sql_mode=STRICT_ALL_TABLES</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后重新启动 MySQL 使其生效。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/etc/init.d/mysql restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_14、未找到-sendmail-二进制文件" tabindex="-1"><a class="header-anchor" href="#_14、未找到-sendmail-二进制文件"><span>14、未找到 Sendmail 二进制文件</span></a></h2><p>点击 【编辑 &quot;metamta.mail-adapter&quot;】</p><p>选择: &quot;PhabricatorMailImplementationPHPMailerAdapter&quot;</p><h2 id="ubuntu-install-warn" tabindex="-1"><a class="header-anchor" href="#ubuntu-install-warn"><span>Ubuntu install warn</span></a></h2><p>运行时警告信息如下:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Package php5-cli is not available, but is referred to by another package.</span></span>
<span class="line"><span>This may mean that the package is missing, has been obsoleted, or</span></span>
<span class="line"><span>is only available from another source</span></span>
<span class="line"><span>However the following packages replace it:</span></span>
<span class="line"><span>  php7.0-cli:i386 php7.0-cli</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>原因:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>这个问题的原因是ubuntu的/etc/apt/source.list中的源比较旧了，需要更新一下，更新方法：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ sudo apt-get -y update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可能系统需要安装 <code>apache2</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   sudo apt-get install apache2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>php</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo apt install php7.0-cli</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="邮件配置" tabindex="-1"><a class="header-anchor" href="#邮件配置"><span>邮件配置</span></a></h1><blockquote><p><a href="http://www.jianshu.com/p/a0592a2f2afb" target="_blank" rel="noopener noreferrer">简书</a></p></blockquote><blockquote><p><a href="http://wenku.baidu.com/view/b2fd127b312b3169a451a44a.html" target="_blank" rel="noopener noreferrer">安装</a></p></blockquote><blockquote><p><a href="http://blog.sina.com.cn/s/blog_6311af050102wteg.html" target="_blank" rel="noopener noreferrer">博客中文</a></p></blockquote>`,211)),e("blockquote",null,[e("p",null,[r(i,{to:"/posts/devops/www.cnblogs.com/zhangqingsh/archive/2013/04/15/3021300.html"},{default:p(()=>s[0]||(s[0]=[c("配置中文")])),_:1})])]),s[2]||(s[2]=a(`<p>通过管理员账号在后台浏览器访问 <code>/config/</code> 进入配置页面。</p><blockquote><p>邮件</p></blockquote><p>访问 <code>/config/group/metamta/</code> 进行邮件配置</p><ul><li>metamta.default-address</li></ul><p>设置一个默认邮箱即可。 例如: <code>123456789@sina.cn</code>, 应保持与<strong>phpmailer</strong>中设置一致。</p><ul><li>metamta.domain</li></ul><p>这个无所谓,使用默认配置即可。</p><ul><li>metamta.mail-adapter</li></ul><p>使用SMTP邮箱,请设置邮件适配器为 <code>PhabricatorMailImplementationPHPMailerAdapter</code></p><blockquote><p>PHPMailer</p></blockquote><p>在 <code>/config/group/phpmailer/</code> 的 URL 中，您可以使用以下命令进行配置:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>bin/config set phpmailer.smtp-host smtp.sina.cn</span></span>
<span class="line"><span>bin/config set phpmailer.smtp-port  25</span></span>
<span class="line"><span>bin/config set phpmailer.smtp-protocol  TLS</span></span>
<span class="line"><span>bin/config set phpmailer.smtp-user 123456789@sina.cn</span></span>
<span class="line"><span>bin/config set phpmailer.smtp-password  XXXX</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>smtp-port</code> 默认可以使用<strong>25</strong>, 如果配置SSL,则需要使用<strong>465</strong>。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cat  conf/local/local.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可以查看本地设置数据。</p><p>测试是否发送:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>bin/mail list-outbound</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>apt-get install sendmail</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>一切配好之后，重启 守护线程</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>bin/phd restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="ssh" tabindex="-1"><a class="header-anchor" href="#ssh"><span>SSH</span></a></h1><blockquote><p><a href="https://secure.phabricator.com/book/phabricator/article/diffusion_hosting/" target="_blank" rel="noopener noreferrer">repository</a></p></blockquote><p>如果代码仓库想使用git管理项目。</p><p>需要配置SSH。</p><h2 id="基本账户信息" tabindex="-1"><a class="header-anchor" href="#基本账户信息"><span>基本账户信息</span></a></h2><p>Phabricator需要三个用户账号（三种用户身份）：两个用于基本运行，一个用于配置SSH访问。</p><p>三个账号分别是：</p><p>www-user：Phabricator Web服务器运行身份。<br> daemon-user：daemons （守护进程）运行身份。这个账号是唯一直接与代码仓库交互的账号，其它账号需要切换到这个账号身份（sudo）才能操作代码仓库。<br> vcs-user：我们需要以这个账号SSH连接Phabricator。</p><p>如果你的服务器系统中现在没有这三个账号，需要创建：</p><p>www-user：大部分情况下，这个账号已经存在了，我们不需要理这个账号。<br> daemon-user ：一般情况下，我们直接使用 root 账号，因为会需要很多权限（当然这可能不安全）。<br> vcs-user：可以使用系统中现有的一个用户账号，直接创建一个就叫 vcsuser。当用户克隆仓库的时候，需要使用类似 <a href="mailto:vcsuser@pha.example.com" target="_blank" rel="noopener noreferrer">vcsuser@pha.example.com</a> 的URI。</p><h2 id="验证账户是否存在" tabindex="-1"><a class="header-anchor" href="#验证账户是否存在"><span>验证账户是否存在:</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cat /etc/passwd | grep www-user</span></span>
<span class="line"><span>cat /etc/passwd | grep daemon-user</span></span>
<span class="line"><span>cat /etc/passwd | grep vcs-user</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询用户组: <code>cat /etc/group</code></p><p>很不幸。几个账户都不存在。</p><h2 id="创建用户" tabindex="-1"><a class="header-anchor" href="#创建用户"><span>创建用户</span></a></h2><ul><li><a href="http://blog.csdn.net/lincyang/article/details/20922749" target="_blank" rel="noopener noreferrer">创建用户</a></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>useradd www-user -m -s /bin/bash</span></span>
<span class="line"><span>useradd vcs-user -m -s /bin/bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>设置创建用户的密码：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo passwd www-user</span></span>
<span class="line"><span>sudo passwd vcs-user</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>一、配置 Phabricator</p><p>接下来的所有操作都需要切换到 <strong>root</strong> 模式。</p><p>首先，将 <code>phd.user</code> 设置为 <code>daemon-user</code>(root):</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$pwd</span></span>
<span class="line"><span>/var/www/phabricator</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ sudo bin/config set phd.user root</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在本地配置中设置了 &#39;phd.user&#39;。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重新启动守护程序以确保此配置正常工作。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   bin/phd restart</span></span>
<span class="line"><span></span></span>
<span class="line"><span>当前没有正在运行的 Phabricator 守护程序。</span></span>
<span class="line"><span>释放活动任务租约中...</span></span>
<span class="line"><span>已释放 0 个任务租约。</span></span>
<span class="line"><span>启动守护程序：</span></span>
<span class="line"><span>（日志将出现在 &quot;/var/tmp/phd/log/daemons.log&quot; 中。）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    PhabricatorRepositoryPullLocalDaemon (静态)</span></span>
<span class="line"><span>    PhabricatorTriggerDaemon (静态)</span></span>
<span class="line"><span>    PhabricatorTaskmasterDaemon (自动缩放：组=任务，池=4，保留=0)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>完成。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果您在使用 SSH 时使用了 <code>vcs-user</code>，您还应该配置该用户：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ sudo bin/config set diffusion.ssh-user vcs-user</span></span>
<span class="line"><span>在本地配置中设置了 &#39;diffusion.ssh-user&#39;。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，您需要设置 sudo 权限，以便这些用户可以相互交互。</p><h2 id="二、configuring-sudo" tabindex="-1"><a class="header-anchor" href="#二、configuring-sudo"><span>二、Configuring Sudo</span></a></h2><p>默认情况下。添加的用户是没有<code>sudo</code>权限的。</p><p>www-user 和 vcs-user 需要能够使用 <strong>sudo</strong> 切换到 daemon-user 用户身份才能与仓库交互，所以我们需要配置更改系统的 sudo 配置。<br> 直接编辑 <code>/etc/sudoers</code> 或者在 <code>/etc/sudoers.d</code> 下创建一个新文件，然后把这些内容写到文件内容中</p><p>此处直接 <code>vi /etc/sudoers</code>, 添加内容如下:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># add sudo for www-user and vcs-user</span></span>
<span class="line"><span>www-user ALL=(root) SETENV: NOPASSWD: /usr/lib/git-core/git, /usr/bin/git, /var/lib/git, /usr/lib/git-core/git-http-backend, /usr/bin/ssh, /etc/ssh, /etc/default/ssh, /etc/init.d/ssh</span></span>
<span class="line"><span>vcs-user ALL=(root) SETENV: NOPASSWD: /bin/sh, /usr/bin/git-upload-pack, /usr/bin/git-receive-pack</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果文件中有<code>Defaults requiretty</code>, 注释掉。</p><h2 id="三、其它ssh配置" tabindex="-1"><a class="header-anchor" href="#三、其它ssh配置"><span>三、其它SSH配置</span></a></h2><ul><li><p><code>/etc/shadow</code> 中找到<strong>vcs-user</strong>的哪一行。修改第二列(密码列)为空,或者<strong>NP</strong>。</p></li><li><p><code>/etc/passwd</code> 中找到<strong>vcs-user</strong>的哪一行。修改<code>/bin/false</code>为<code>/bin/sh</code>。</p></li></ul><h2 id="四、配置sshd端口" tabindex="-1"><a class="header-anchor" href="#四、配置sshd端口"><span>四、配置SSHD端口</span></a></h2><blockquote><p><a href="http://www.cnblogs.com/CGDeveloper/archive/2011/07/27/2118533.html" target="_blank" rel="noopener noreferrer">ssh</a></p></blockquote><ul><li>SSH 版本</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ ssh -V</span></span>
<span class="line"><span>OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.8, OpenSSL 1.0.1f 6 Jan 2014</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在运行 Phabricator 的服务器系统中，sshd 的版本必须高于 <strong>6.2</strong></p><ul><li>端口</li></ul><p>默认端口为 <strong>22</strong></p><ol><li>在 <strong>/usr/libexec</strong> 中创建 <code>phabricator-ssh-hook.sh</code>：</li></ol><p>我选择将其放置在 <strong>/etc/ssh/shell</strong> 中：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#!/bin/sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 注意：将此处的用户名替换为您希望用户连接的用户名。</span></span>
<span class="line"><span>VCSUSER=&quot;vcs-user&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 注意：将此处的路径替换为您的 Phabricator 目录。</span></span>
<span class="line"><span>ROOT=&quot;/var/www/phabricator&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if [ &quot;$1&quot; != &quot;$VCSUSER&quot; ];</span></span>
<span class="line"><span>then</span></span>
<span class="line"><span>  exit 1</span></span>
<span class="line"><span>fi</span></span>
<span class="line"><span></span></span>
<span class="line"><span>exec &quot;$ROOT/bin/ssh-auth&quot; $@</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建完脚本后，需要将脚本及其父文件夹的所有者更改为 <strong>root</strong>，并赋予脚本 <strong>755</strong> 权限：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo chown root /etc/ssh/shell</span></span>
<span class="line"><span>sudo chown root /etc/ssh/shell/phabricator-ssh-hook.sh</span></span>
<span class="line"><span>sudo chmod 755 /etc/ssh/shell/phabricator-ssh-hook.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>创建 <code>sshd_config</code></li></ol><p>在 <strong>/etc/ssh</strong> 中创建一个文件名类似 <code>sshd_config.phabricator</code> 的文件：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ pwd</span></span>
<span class="line"><span>/etc/ssh</span></span>
<span class="line"><span>$ sudo vi sshd_config.phabricator</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>文件内容如下，此处配置端口号为 <code>2222</code>:</p><p>如果您计划连接到除 22 以外的端口，则应将此端口设置为 Phabricator 配置中的 <code>diffusion.ssh-port</code>：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ bin/config set diffusion.ssh-port 2222</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># NOTE: You must have OpenSSHD 6.2 or newer; support for AuthorizedKeysCommand</span></span>
<span class="line"><span># was added in this version.</span></span>
<span class="line"><span></span></span>
<span class="line"><span># NOTE: Edit these to the correct values for your setup.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>AuthorizedKeysCommand /etc/ssh/shell/phabricator-ssh-hook.sh</span></span>
<span class="line"><span>AuthorizedKeysCommandUser vcs-user</span></span>
<span class="line"><span>AllowUsers vcs-user</span></span>
<span class="line"><span></span></span>
<span class="line"><span># You may need to tweak these options, but mostly they just turn off everything</span></span>
<span class="line"><span># dangerous.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Port 2222</span></span>
<span class="line"><span>Protocol 2</span></span>
<span class="line"><span>PermitRootLogin no</span></span>
<span class="line"><span>AllowAgentForwarding no</span></span>
<span class="line"><span>AllowTcpForwarding no</span></span>
<span class="line"><span>PrintMotd no</span></span>
<span class="line"><span>PrintLastLog no</span></span>
<span class="line"><span>PasswordAuthentication no</span></span>
<span class="line"><span>AuthorizedKeysFile none</span></span>
<span class="line"><span></span></span>
<span class="line"><span>PidFile /var/run/sshd-phabricator.pid</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>启动 ssh 服务</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo /usr/sbin/sshd -f /etc/ssh/sshd_config.phabricator</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用 <code>sudo netstat -atlunp | grep ssh</code> 可查看端口运行情况。</p><ol start="4"><li>上传公钥</li></ol><p>点击你的头像 ---&gt; 左侧菜单面板 Manage ---&gt; 右侧菜单面板 Edit Settings ---&gt; 左侧菜单面板 SSH Public Keys ---&gt; 右上角 SSH Key Actions ---&gt; Upload Public Key</p><p>上传后,执行</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>echo {} | ssh vcs-user@127.0.0.1 conduit conduit.ping</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="5"><li>创建项目</li></ol><p><code>http://139.196.28.125/diffusion/</code> 下创建项目:</p><ul><li>callsign 必须大写</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>This newly created repository is not active yet. Configure policies, options, and URIs. When ready, Activate the repository.</span></span>
<span class="line"><span>If activated now, this repository will become a new hosted repository. To observe an existing repository instead, configure it in the URIs panel.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>clone</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git clone ssh://vcs-user@139.196.28.125:2222/source/rd.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>发现需要使用的是端口转发,但是要登录的还是<code>139.196.28.125</code>服务器。所以需要为其创建<code>vcs-user</code>。后来发现这是个问题。可能是因为转发问题,导致不存在。以后研究。</p><p>此处需要开启端口号2222。并启动转发。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>useradd vcs-user -m -s /bin/bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="持续集成" tabindex="-1"><a class="header-anchor" href="#持续集成"><span>持续集成</span></a></h1><blockquote><p><a href="http://www.mutouxiaogui.cn/blog/?p=386" target="_blank" rel="noopener noreferrer">Git + Jenkins + Pha</a></p></blockquote><ul><li>创建用户</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>http://139.196.28.125/people/create/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>选择 <strong>Create Bot User</strong>-》填入用户信息-》<strong>Create User</strong>。</p><ul><li>编辑用户信息</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>http://139.196.28.125/p/jenkins/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>点击左侧【Manage】-》右侧【Edit Settings】-》左侧【Conduit API Tokens】-》右侧【Generate API Token】-》【Generate Token】</p><p>复制其中的 token。</p><ul><li>添加<strong>token</strong>到Jenkins</li></ul><ol><li><p>安装 phabricator 插件 <code>Phabricator Differential Plugin</code></p></li><li><p>copy token</p></li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>http://139.196.28.125:8080/configure</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>找到<strong>Phabricator</strong> -》<strong>Credentials</strong>, 添加信息如下:</p><figure><img src="https://raw.githubusercontent.com/houbb/resource/master/img/phabricator/2017-01-15-phabricator-jenkins.png" alt="phabricator-jenkins" tabindex="0" loading="lazy"><figcaption>phabricator-jenkins</figcaption></figure>`,105))])}const g=n(o,[["render",h]]),m=JSON.parse('{"path":"/posts/devops/2016-10-14-devops-project-manage-phabricator-01-overview.html","title":"项目管理平台-01-Phabricator 入门介绍 一套集成的强大工具，帮助公司构建更高质量的软件","lang":"zh-CN","frontmatter":{"title":"项目管理平台-01-Phabricator 入门介绍 一套集成的强大工具，帮助公司构建更高质量的软件","date":"2016-10-14T00:00:00.000Z","categories":["Devops"],"tags":["devops","project-manage"],"published":true,"description":"拓展阅读 Devops-01-devops 是什么？ Devops-02-Jpom 简而轻的低侵入式在线构建、自动部署、日常运维、项目监控软件 代码质量管理 SonarQube-01-入门介绍 项目管理平台-01-jira 入门介绍 缺陷跟踪管理系统，为针对缺陷管理、任务追踪和项目管理的商业性应用软件 项目管理平台-01-Phabricator 入门介...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/blog-backend/posts/devops/2016-10-14-devops-project-manage-phabricator-01-overview.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"项目管理平台-01-Phabricator 入门介绍 一套集成的强大工具，帮助公司构建更高质量的软件"}],["meta",{"property":"og:description","content":"拓展阅读 Devops-01-devops 是什么？ Devops-02-Jpom 简而轻的低侵入式在线构建、自动部署、日常运维、项目监控软件 代码质量管理 SonarQube-01-入门介绍 项目管理平台-01-jira 入门介绍 缺陷跟踪管理系统，为针对缺陷管理、任务追踪和项目管理的商业性应用软件 项目管理平台-01-Phabricator 入门介..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/houbb/resource/master/img/phabricator/2017-01-15-phabricator-jenkins.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-22T03:45:14.000Z"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"project-manage"}],["meta",{"property":"article:published_time","content":"2016-10-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-22T03:45:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"项目管理平台-01-Phabricator 入门介绍 一套集成的强大工具，帮助公司构建更高质量的软件\\",\\"image\\":[\\"https://raw.githubusercontent.com/houbb/resource/master/img/phabricator/2017-01-15-phabricator-jenkins.png\\"],\\"datePublished\\":\\"2016-10-14T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-22T03:45:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1755834314000,"updatedTime":1755834314000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1}]},"readingTime":{"minutes":15.13,"words":4539},"filePathRelative":"posts/devops/2016-10-14-devops-project-manage-phabricator-01-overview.md","localizedDate":"2016年10月14日","excerpt":"\\n<p><a href=\\"https://houbb.github.io/2016/10/14/devops-01-overview\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Devops-01-devops 是什么？</a></p>\\n<p><a href=\\"https://houbb.github.io/2016/10/14/devops-02-jpom\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Devops-02-Jpom 简而轻的低侵入式在线构建、自动部署、日常运维、项目监控软件</a></p>\\n<p><a href=\\"https://houbb.github.io/2016/10/14/devops-sonarqube-01-intro\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">代码质量管理 SonarQube-01-入门介绍</a></p>","autoDesc":true}');export{g as comp,m as data};
