import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as i}from"./app-uJE4P3e0.js";const l={};function t(r,e){return i(),a("div",null,e[0]||(e[0]=[n(`<h1 id="报错场景" tabindex="-1"><a class="header-anchor" href="#报错场景"><span>报错场景</span></a></h1><p>今天 maven 打包，报错如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[ERROR] Failed to execute goal on project pinyin: Could not resolve dependencies for project com.github.houbb:pinyin:jar:0.0.2-SNAPS</span></span>
<span class="line"><span>HOT: Failed to collect dependencies at com.github.houbb:heaven:jar:0.1.74: Failed to read artifact descriptor for com.github.houbb:h</span></span>
<span class="line"><span>eaven:jar:0.1.74: Could not transfer artifact com.github.houbb:heaven:pom:0.1.74 from/to repo1 (http://repo1.maven.org/maven2): Fail</span></span>
<span class="line"><span>ed to transfer file http://repo1.maven.org/maven2/com/github/houbb/heaven/0.1.74/heaven-0.1.74.pom with status code 501 -&gt; [Help 1]</span></span>
<span class="line"><span>[ERROR]</span></span>
<span class="line"><span>[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.</span></span>
<span class="line"><span>[ERROR] Re-run Maven using the -X switch to enable full debug logging.</span></span>
<span class="line"><span>[ERROR]</span></span>
<span class="line"><span>[ERROR] For more information about the errors and possible solutions, please read the following articles:</span></span>
<span class="line"><span>[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="包的存在性" tabindex="-1"><a class="header-anchor" href="#包的存在性"><span>包的存在性</span></a></h2><p>这个包 <code>com.github.houbb:heaven:jar:0.1.74</code> 是我昨天上传的，所以在中央仓库肯定有的。</p><p>这个报错也不是 404，而是 501</p><h2 id="搜索一下" tabindex="-1"><a class="header-anchor" href="#搜索一下"><span>搜索一下</span></a></h2><p>这个问题的解决方案也有，我们选择一遍作为记录。</p><blockquote><p><a href="https://stackoverflow.com/questions/59763531/maven-dependencies-are-failing-with-a-501-error" target="_blank" rel="noopener noreferrer">statckoverflow-maven-dependencies-are-failing-with-a-501-error</a></p></blockquote><p>原因如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Effective January 15, 2020, The Central Repository no longer supports insecure communication over plain HTTP and requires that all requests to the repository are encrypted over HTTPS.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>It looks like latest versions of Maven (tried with 3.6.0, 3.6.1) are already using the HTTPS URL by default.</p><p>使用 2020-01-15 开始强制使用 HTTPS ，说是 maven 3.6.0 默认支持。</p><h3 id="本地-jdk" tabindex="-1"><a class="header-anchor" href="#本地-jdk"><span>本地 jdk</span></a></h3><p>为了编译需要，个人使用的是 jdk1.7</p><h3 id="本地-maven" tabindex="-1"><a class="header-anchor" href="#本地-maven"><span>本地 maven</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   mvn -v</span></span>
<span class="line"><span>Apache Maven 3.6.2 (40f52333136460af0dc0d7232c0dc0bcf0d9e117; 2019-08-27T23:06:16+08:00)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>看的出来很不幸，我的 3.6.2 版本依然不支持。</p><p>那如何解决？</p><h1 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h1><h2 id="调整-setting-xml" tabindex="-1"><a class="header-anchor" href="#调整-setting-xml"><span>调整 setting.xml</span></a></h2><p>于是我们在构建过程中所依赖的 settings.xml 文件中，加入了一以下配置：</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    central</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Maven Repository Switchboard</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    https://repo1.maven.org/maven2/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    central</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="指定协议版本" tabindex="-1"><a class="header-anchor" href="#指定协议版本"><span>指定协议版本</span></a></h2><p>但是问题依然没有解决，接着报错，错误如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Could not transfer artifact com.ipower365.boss:nacha:pom:1.0.1 from/to central (</span></span>
<span class="line"><span>https://repo1.maven.org/maven2/):</span></span>
<span class="line"><span>Received fatal alert: protocol_version -&gt; [Help 1]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个是在使用https协议请求中央仓库时，需要指定协议版本，然后在构建时，加入了如下参数，参考链接如下：</p><blockquote><p><a href="https://stackoverflow.com/questions/50824789/why-am-i-getting-received-fatal-alert-protocol-version-or-peer-not-authentic" target="_blank" rel="noopener noreferrer">why-am-i-getting-received-fatal-alert-protocol-version-or-peer-not-authentic</a></p></blockquote><p>在JAVA8环境使用mvn打包时，不需要指定以上参数，但是使用JAVA7环境的时候，则会出现以上报错。</p><h3 id="打包命令" tabindex="-1"><a class="header-anchor" href="#打包命令"><span>打包命令</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   mvn clean install -Dhttps.protocols=TLSv1.2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重新构建，打包成功。</p><h1 id="连接超时" tabindex="-1"><a class="header-anchor" href="#连接超时"><span>连接超时</span></a></h1><h2 id="场景" tabindex="-1"><a class="header-anchor" href="#场景"><span>场景</span></a></h2><p>直接打包报错如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[ERROR] Failed to execute goal on project json: Could not resolve dependencies for project com.github.houb</span></span>
<span class="line"><span>b:json:jar:0.1.9-SNAPSHOT: Failed to collect dependencies at com.github.houbb:heaven:jar:0.1.86: Failed to</span></span>
<span class="line"><span> read artifact descriptor for com.github.houbb:heaven:jar:0.1.86: Could not transfer artifact com.github.h</span></span>
<span class="line"><span>oubb:heaven:pom:0.1.86 from/to repo1 (http://repo1.maven.org/maven2): Connect to repo1.maven.org:80 [repo1</span></span>
<span class="line"><span>.maven.org/151.101.52.209] failed: Connection timed out: connect -&gt; [Help 1]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="原因" tabindex="-1"><a class="header-anchor" href="#原因"><span>原因</span></a></h2><p>因为 maven 打包，所以需要访问 maven 仓库，国外的仓库镜像访问可能比较慢，所以可以设置为国内镜像。</p><p>在 maven 的配置文件中， \`\` 里面添加</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    nexus-aliyun</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    *</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Nexus aliyun</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    http://maven.aliyun.com/nexus/content/groups/public</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完整版本的 mirrors 如下：</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      mirrorId</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      repositoryId</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      Human Readable Name for this Mirror.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      http://my.repository.com/repo/path</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        nexus-aliyun</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        *</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        Nexus aliyun</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        http://maven.aliyun.com/nexus/content/groups/public</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      repo1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      central</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      https://repo1.maven.org/maven2/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1><p><a href="https://www.cnblogs.com/flashfish/p/12202305.html" target="_blank" rel="noopener noreferrer">关于 maven 打包时的报错： Return code is: 501 , ReasonPhrase:HTTPS Required.</a></p><p><a href="https://blog.csdn.net/boywcx/article/details/82628703" target="_blank" rel="noopener noreferrer">maven 配置以及设置国内镜像</a></p>`,45)]))}const o=s(l,[["render",t]]),h=JSON.parse('{"path":"/posts/devops/2020-01-18-maven-install-failed.html","title":"maven 打包报错 Return code is 501 , ReasonPhrase:HTTPS Required.","lang":"zh-CN","frontmatter":{"title":"maven 打包报错 Return code is 501 , ReasonPhrase:HTTPS Required.","date":"2020-01-09T00:00:00.000Z","categories":["Devops"],"tags":["devops","maven","java","error","sh"],"published":true,"description":"报错场景 今天 maven 打包，报错如下： 包的存在性 这个包 com.github.houbb:heaven:jar:0.1.74 是我昨天上传的，所以在中央仓库肯定有的。 这个报错也不是 404，而是 501 搜索一下 这个问题的解决方案也有，我们选择一遍作为记录。 statckoverflow-maven-dependencies-are-fa...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/blog-backend/posts/devops/2020-01-18-maven-install-failed.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"maven 打包报错 Return code is 501 , ReasonPhrase:HTTPS Required."}],["meta",{"property":"og:description","content":"报错场景 今天 maven 打包，报错如下： 包的存在性 这个包 com.github.houbb:heaven:jar:0.1.74 是我昨天上传的，所以在中央仓库肯定有的。 这个报错也不是 404，而是 501 搜索一下 这个问题的解决方案也有，我们选择一遍作为记录。 statckoverflow-maven-dependencies-are-fa..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-22T03:45:14.000Z"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:tag","content":"maven"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"error"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:published_time","content":"2020-01-09T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-22T03:45:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"maven 打包报错 Return code is 501 , ReasonPhrase:HTTPS Required.\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-01-09T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-22T03:45:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1755834314000,"updatedTime":1755834314000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1}]},"readingTime":{"minutes":2.92,"words":875},"filePathRelative":"posts/devops/2020-01-18-maven-install-failed.md","localizedDate":"2020年1月9日","excerpt":"\\n<p>今天 maven 打包，报错如下：</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>[ERROR] Failed to execute goal on project pinyin: Could not resolve dependencies for project com.github.houbb:pinyin:jar:0.0.2-SNAPS</span></span>\\n<span class=\\"line\\"><span>HOT: Failed to collect dependencies at com.github.houbb:heaven:jar:0.1.74: Failed to read artifact descriptor for com.github.houbb:h</span></span>\\n<span class=\\"line\\"><span>eaven:jar:0.1.74: Could not transfer artifact com.github.houbb:heaven:pom:0.1.74 from/to repo1 (http://repo1.maven.org/maven2): Fail</span></span>\\n<span class=\\"line\\"><span>ed to transfer file http://repo1.maven.org/maven2/com/github/houbb/heaven/0.1.74/heaven-0.1.74.pom with status code 501 -&gt; [Help 1]</span></span>\\n<span class=\\"line\\"><span>[ERROR]</span></span>\\n<span class=\\"line\\"><span>[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.</span></span>\\n<span class=\\"line\\"><span>[ERROR] Re-run Maven using the -X switch to enable full debug logging.</span></span>\\n<span class=\\"line\\"><span>[ERROR]</span></span>\\n<span class=\\"line\\"><span>[ERROR] For more information about the errors and possible solutions, please read the following articles:</span></span>\\n<span class=\\"line\\"><span>[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{o as comp,h as data};
