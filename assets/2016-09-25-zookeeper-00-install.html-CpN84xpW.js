import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a,o as n}from"./app-uJE4P3e0.js";const l={};function t(r,i){return n(),e("div",null,i[0]||(i[0]=[a(`<h1 id="zookeeper" tabindex="-1"><a class="header-anchor" href="#zookeeper"><span>Zookeeper</span></a></h1><p>Apache ZooKeeper 致力于开发和维护一个开源服务器，该服务器支持高度可靠的分布式协调。</p><blockquote><p><a href="http://zookeeper.apache.org/" target="_blank" rel="noopener noreferrer">zookeeper</a></p></blockquote><blockquote><p><a href="https://zookeeper.apache.org/doc/r3.4.10/zookeeperStarted.html" target="_blank" rel="noopener noreferrer">quick start</a></p></blockquote><h2 id="download" tabindex="-1"><a class="header-anchor" href="#download"><span>Download</span></a></h2><p><a href="http://apache.fayea.com/zookeeper" target="_blank" rel="noopener noreferrer">Download</a> the zookeeper, unzip it.</p><p>or</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   wget http://apache.fayea.com/zookeeper/zookeeper-3.4.9/zookeeper-3.4.9.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="add-server1" tabindex="-1"><a class="header-anchor" href="#add-server1"><span>Add Server1</span></a></h2><ul><li>Add <code>server1</code> package</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   cd /Users/houbinbin/it/tools/zookeeper/server1</span></span>
<span class="line"><span>$   ls</span></span>
<span class="line"><span></span></span>
<span class="line"><span>data		logs		zookeeper-3.4.9</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Add file <code>myid</code></li></ul><p>add file <code>myid</code> in <strong>data</strong> package, and it&#39;s content is</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Edit zookeeper-3.4.9/conf</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/conf</span></span>
<span class="line"><span>$   ls</span></span>
<span class="line"><span>configuration.xsl	log4j.properties	zoo_sample.cfg</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$   cp zoo_sample.cfg zoo.cfg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Edit the <code>zoo.cfg</code></li></ul><p>add these content</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># the data and log dir</span></span>
<span class="line"><span>dataDir=/Users/houbinbin/it/tools/zookeeper/server1/data</span></span>
<span class="line"><span>dataLogDir=/Users/houbinbin/it/tools/zookeeper/server1/logs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># the port at which the clients will connect</span></span>
<span class="line"><span>clientPort=2181</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="add-server2" tabindex="-1"><a class="header-anchor" href="#add-server2"><span>Add server2</span></a></h2><p>如果您想在一台PC上测试群集管理器，可以这样做：</p><p>服务器2与服务器1相同。</p><ul><li>Then, edit <code>zoo.cfg</code></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># the data and log dir</span></span>
<span class="line"><span>dataDir=/Users/houbinbin/it/tools/zookeeper/server2/data</span></span>
<span class="line"><span>dataLogDir=/Users/houbinbin/it/tools/zookeeper/server2/logs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># the port at which the clients will connect</span></span>
<span class="line"><span>clientPort=2182</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Add file <code>myid</code></li></ul><p>with the content of</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="start-stop" tabindex="-1"><a class="header-anchor" href="#start-stop"><span>Start &amp; Stop</span></a></h2><ul><li>start</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:bin houbinbin$ pwd</span></span>
<span class="line"><span>/Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>houbinbindeMacBook-Pro:bin houbinbin$ ls</span></span>
<span class="line"><span>README.txt	zkCli.cmd	zkEnv.cmd	zkServer.cmd</span></span>
<span class="line"><span>zkCleanup.sh	zkCli.sh	zkEnv.sh	zkServer.sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span>houbinbindeMacBook-Pro:bin houbinbin$ sh zkServer.sh start</span></span>
<span class="line"><span>ZooKeeper JMX enabled by default</span></span>
<span class="line"><span>Using config: /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin/../conf/zoo.cfg</span></span>
<span class="line"><span>-n Starting zookeeper ...</span></span>
<span class="line"><span>STARTED</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>status</li></ul><p>If you see the <code>QuorumPeerMain</code>, that&#39;s meaning you are success.</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:bin houbinbin$ jps</span></span>
<span class="line"><span>1920 Jps</span></span>
<span class="line"><span>531</span></span>
<span class="line"><span>1913 QuorumPeerMain</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>stop</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>houbinbindeMacBook-Pro:bin houbinbin$ sh zkServer.sh stop</span></span>
<span class="line"><span>ZooKeeper JMX enabled by default</span></span>
<span class="line"><span>Using config: /Users/houbinbin/it/tools/zookeeper/server1/zookeeper-3.4.9/bin/../conf/zoo.cfg</span></span>
<span class="line"><span>-n Stopping zookeeper ...</span></span>
<span class="line"><span>STOPPED</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="in-windows" tabindex="-1"><a class="header-anchor" href="#in-windows"><span>In Windows</span></a></h1><blockquote><p><a href="http://blog.csdn.net/morning99/article/details/40426133" target="_blank" rel="noopener noreferrer">zookeeper 安装 windows环境</a></p></blockquote><p>一、下载并解压</p><p>(win7)</p><p>当前解压路径为 <code>D:\\Learn\\apache\\zookeeper\\zookeeper-3.4.6\\</code></p><p>二、配置</p><p>在 <strong>conf</strong> 文件夹下添加配置文件，如果启动有报错提示cfg文件有错误，可以用 <code>zoo_sample.cfg</code> 内容替代</p><ul><li><code>zoo.cfg</code></li></ul><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># The number of milliseconds of each tick  心跳间隔 毫秒每次</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">tickTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">2000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># The number of ticks that the initial</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># synchronization phase can take</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">initLimit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># The number of ticks that can pass between</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># sending a request and getting anacknowledgement</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">syncLimit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># the directory where the snapshot isstored.  //镜像数据位置</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">dataDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">D:\\\\Learn\\\\apache\\\\zookeeper\\\\data</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#日志位置</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">dataLogDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">D:\\\\Learn\\\\apache\\\\zookeeper\\\\log</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># the port at which the clients willconnect  客户端连接的端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">clientPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">2181</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>三、运行</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[D:\\Learn\\apache\\zookeeper\\zookeeper-3.4.6\\bin]$ zkServer.cmd</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>另开一个窗口</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[D:\\Learn\\apache\\zookeeper\\zookeeper-3.4.6\\bin]$ jps</span></span>
<span class="line"><span>5200 RemoteJdbcServer</span></span>
<span class="line"><span>12068 RemoteMavenServer</span></span>
<span class="line"><span>11416 </span></span>
<span class="line"><span>13928 </span></span>
<span class="line"><span>9784 Jps</span></span>
<span class="line"><span>13036 QuorumPeerMain</span></span>
<span class="line"><span>6412 RemoteJdbcServer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>启动客户端</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[D:\\Learn\\apache\\zookeeper\\zookeeper-3.4.6\\bin]$ zkCli.cmd -server 127.0.0.1:2181</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="windows10-安装笔记" tabindex="-1"><a class="header-anchor" href="#windows10-安装笔记"><span>windows10 安装笔记</span></a></h1><h2 id="下载" tabindex="-1"><a class="header-anchor" href="#下载"><span>下载</span></a></h2><p>从 <a href="https://zookeeper.apache.org/releases.html" target="_blank" rel="noopener noreferrer">https://zookeeper.apache.org/releases.html</a> 选择你需要的版本。</p><p>我下载的是 <a href="https://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.6.2/apache-zookeeper-3.6.2-bin.tar.gz" target="_blank" rel="noopener noreferrer">https://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.6.2/apache-zookeeper-3.6.2-bin.tar.gz</a></p><p>这里有一个坑，一定要下载 bin.tar.gz 的，否则会报错找不到执行类。</p><h2 id="解压" tabindex="-1"><a class="header-anchor" href="#解压"><span>解压</span></a></h2><p>我把压缩文件直接解压到下面的路径：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>D:\\tool\\zookeeper\\apache-zookeeper-3.6.2-bin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h2><p>到 D:\\tool\\zookeeper\\apache-zookeeper-3.6.2-bin\\conf 路径下，复制 <code>zoo_sample.cfg</code> 为 <code>zoo.cfg</code>，内容如下：</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># The number of milliseconds of each tick  心跳间隔 毫秒每次</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">tickTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">2000</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># The number of ticks that the initial </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># synchronization phase can take</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">initLimit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># The number of ticks that can pass between </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># sending a request and getting an acknowledgement</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">syncLimit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">5</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># the directory where the snapshot is stored.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># do not use /tmp for storage, /tmp here is just </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># example sakes.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 指定了日志和数据的路径</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">dataDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">D:\\\\tool\\\\zookeeper\\\\data</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">dataLogDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">D:\\\\tool\\\\zookeeper\\\\log</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># the port at which the clients will connect  客户端连接的端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">clientPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">2181</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># the maximum number of client connections.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># increase this if you need to handle more clients</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#maxClientCnxns=60</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Be sure to read the maintenance section of the </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># administrator guide before turning on autopurge.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># The number of snapshots to retain in dataDir</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#autopurge.snapRetainCount=3</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Purge task interval in hours</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Set to &quot;0&quot; to disable auto purge feature</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#autopurge.purgeInterval=1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## Metrics Providers</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># https://prometheus.io Metrics Exporter</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#metricsProvider.httpPort=7000</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#metricsProvider.exportJvmInfo=true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>大部分配置保持原样即可，我们新增了数据和日志的路径，如下:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>dataDir=D:\\\\tool\\\\zookeeper\\\\data</span></span>
<span class="line"><span>dataLogDir=D:\\\\tool\\\\zookeeper\\\\log</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h2><p>到 D:\\tool\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin 路径下，执行命令：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>zkServer.cmd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查看" tabindex="-1"><a class="header-anchor" href="#查看"><span>查看</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>λ jps</span></span>
<span class="line"><span>6736</span></span>
<span class="line"><span>9360 QuorumPeerMain</span></span>
<span class="line"><span>13012 Jps</span></span>
<span class="line"><span>8828 RemoteMavenServer36</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>QuorumPeerMain 就是 zk 对应的类</p><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1><p><a href="https://blog.csdn.net/jiangxiulilinux/article/details/96433560" target="_blank" rel="noopener noreferrer">zookeeper-3.5.5安装报错：找不到或无法加载主类 org.apache.zookeeper.server.quorum.QuorumPeerMain-新版本zookeeper易犯错误</a></p>`,71)]))}const h=s(l,[["render",t]]),o=JSON.parse('{"path":"/posts/zookeeper/2016-09-25-zookeeper-00-install.html","title":"ZooKeeper-00-入门使用介绍 windows 安装","lang":"zh-CN","frontmatter":{"title":"ZooKeeper-00-入门使用介绍 windows 安装","date":"2016-09-25T00:00:00.000Z","categories":["Apache"],"tags":["zookeeper","config-center"],"published":true,"description":"Zookeeper Apache ZooKeeper 致力于开发和维护一个开源服务器，该服务器支持高度可靠的分布式协调。 zookeeper quick start Download Download the zookeeper, unzip it. or Add Server1 Add server1 package Add file myid ad...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/blog-backend/posts/zookeeper/2016-09-25-zookeeper-00-install.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"ZooKeeper-00-入门使用介绍 windows 安装"}],["meta",{"property":"og:description","content":"Zookeeper Apache ZooKeeper 致力于开发和维护一个开源服务器，该服务器支持高度可靠的分布式协调。 zookeeper quick start Download Download the zookeeper, unzip it. or Add Server1 Add server1 package Add file myid ad..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-22T03:45:14.000Z"}],["meta",{"property":"article:tag","content":"zookeeper"}],["meta",{"property":"article:tag","content":"config-center"}],["meta",{"property":"article:published_time","content":"2016-09-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-22T03:45:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ZooKeeper-00-入门使用介绍 windows 安装\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2016-09-25T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-22T03:45:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1755834314000,"updatedTime":1755834314000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1}]},"readingTime":{"minutes":3.01,"words":903},"filePathRelative":"posts/zookeeper/2016-09-25-zookeeper-00-install.md","localizedDate":"2016年9月25日","excerpt":"\\n<p>Apache ZooKeeper 致力于开发和维护一个开源服务器，该服务器支持高度可靠的分布式协调。</p>\\n<blockquote>\\n<p><a href=\\"http://zookeeper.apache.org/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">zookeeper</a></p>\\n</blockquote>\\n<blockquote>\\n<p><a href=\\"https://zookeeper.apache.org/doc/r3.4.10/zookeeperStarted.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">quick start</a></p>\\n</blockquote>","autoDesc":true}');export{h as comp,o as data};
