import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as i}from"./app-uJE4P3e0.js";const p={};function r(l,e){return i(),a("div",null,e[0]||(e[0]=[n(`<h1 id="入门" tabindex="-1"><a class="header-anchor" href="#入门"><span>入门</span></a></h1><p>使用ZooKeeper协调分布式应用程序</p><p>本文档包含使您快速开始使用ZooKeeper的信息。</p><p>它主要针对希望试用的开发人员，并包含单个ZooKeeper服务器的简单安装说明，一些验证其正在运行的命令以及一个简单的编程示例。</p><p>最后，为方便起见，有几节涉及更复杂的安装，例如，运行复制的部署以及优化事务日志。</p><p>但是，有关商业部署的完整说明，请参阅 <a href="https://zookeeper.apache.org/doc/r3.6.2/zookeeperAdmin.html" target="_blank" rel="noopener noreferrer">《ZooKeeper管理员指南》</a>。</p><h1 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h1><p>这里需要 jdk1.8+，这里是 3.6.2 的版本。</p><p><a href="https://zookeeper.apache.org/doc/r3.6.2/zookeeperAdmin.html#sc_systemReq" target="_blank" rel="noopener noreferrer">系统要求</a></p><h1 id="下载" tabindex="-1"><a class="header-anchor" href="#下载"><span>下载</span></a></h1><h2 id="windows10" tabindex="-1"><a class="header-anchor" href="#windows10"><span>windows10</span></a></h2><p>这里以 windos10 作为演示。</p><p>从 <a href="https://zookeeper.apache.org/releases.html" target="_blank" rel="noopener noreferrer">https://zookeeper.apache.org/releases.html</a> 选择你需要的版本。</p><p>我下载的是 <a href="https://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.6.2/apache-zookeeper-3.6.2-bin.tar.gz" target="_blank" rel="noopener noreferrer">https://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.6.2/apache-zookeeper-3.6.2-bin.tar.gz</a></p><p>这里有一个坑，一定要下载 bin.tar.gz 的，否则会报错找不到执行类。</p><h2 id="解压" tabindex="-1"><a class="header-anchor" href="#解压"><span>解压</span></a></h2><p>此处解压的根目录为：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>下面对应的文件为：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>bin/  conf/  docs/  lib/  LICENSE.txt  NOTICE.txt  README.md  README_packaging.md</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="独立运行" tabindex="-1"><a class="header-anchor" href="#独立运行"><span>独立运行</span></a></h1><p>在独立模式下设置ZooKeeper服务器非常简单。</p><p>该服务器包含在单个JAR文件中，因此安装包括创建配置。</p><p>下载稳定的ZooKeeper版本后，将其解压缩并CD到根目录</p><p>要启动ZooKeeper，您需要一个配置文件。</p><h2 id="官方说明" tabindex="-1"><a class="header-anchor" href="#官方说明"><span>官方说明</span></a></h2><p>这是一个示例，在conf/zoo.cfg中创建它：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>tickTime=2000</span></span>
<span class="line"><span>dataDir=/var/lib/zookeeper</span></span>
<span class="line"><span>clientPort=2181</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实战配置" tabindex="-1"><a class="header-anchor" href="#实战配置"><span>实战配置</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ cd conf</span></span>
<span class="line"><span></span></span>
<span class="line"><span>D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\conf</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ ls</span></span>
<span class="line"><span>configuration.xsl  log4j.properties  zoo_sample.cfg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以发现 conf 目录西默认是没有 zoo.cfg 文件的，我们可以直接新建一个文件，也可以复制 zoo_sample.cfg 重命名为 zoo.cfg。</p><ul><li>zoo.cfg</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>tickTime=2000</span></span>
<span class="line"><span>dataDir=D:\\\\tools\\\\zookeeper\\\\data</span></span>
<span class="line"><span>clientPort=2181</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该文件可以被命名为任何文件，但是为了便于讨论，将其命名为 conf/zoo.cfg。</p><p>更改dataDir的值以指定现有（空开头）目录。</p><p>以下是每个字段的含义：</p><p>tickTime：ZooKeeper使用的基本时间单位（毫秒）。 它用于做心跳，并且最小会话超时将是tickTime的两倍。</p><p>dataDir：存储内存数据库快照的位置，除非另有说明，否则存储数据库更新的事务日志。</p><p>clientPort：用于侦听客户端连接的端口</p><h2 id="启动配置" tabindex="-1"><a class="header-anchor" href="#启动配置"><span>启动配置</span></a></h2><p>现在，您已经创建了配置文件，您可以启动 ZooKeeper：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ pwd</span></span>
<span class="line"><span>D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ zkServer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们到 bin 目录下，直接执行 zkServer 命令，日志如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>call &quot;D:\\Program Files\\Java\\jdk1.8.0_192&quot;\\bin\\java &quot;-Dzookeeper.log.dir=D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin\\..\\logs&quot; &quot;-Dzookeeper.root.logger=INFO,CONSOLE&quot; &quot;-Dzookeeper.log.file=zookeeper-Administrator-server-PC-20210113XLZD.log&quot; &quot;-XX:+HeapDumpOnOutOfMemoryError&quot; &quot;-XX:OnOutOfMemoryError=cmd /c taskkill /pid %%p /t /f&quot; -cp &quot;D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin\\..\\build\\classes;D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin\\..\\build\\lib\\*;D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin\\..\\*;D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin\\..\\lib\\*;D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin\\..\\conf&quot; org.apache.zookeeper.server.quorum.QuorumPeerMain &quot;D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin\\..\\conf\\zoo.cfg&quot;</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2021-02-14 23:39:52,384 [myid:] - INFO  [main:ZookeeperBanner@42] -</span></span>
<span class="line"><span>2021-02-14 23:39:52,384 [myid:] - INFO  [main:ZookeeperBanner@42] -   ______                  _</span></span>
<span class="line"><span>2021-02-14 23:39:52,385 [myid:] - INFO  [main:ZookeeperBanner@42] -  |___  /                 | |</span></span>
<span class="line"><span>2021-02-14 23:39:52,385 [myid:] - INFO  [main:ZookeeperBanner@42] -     / /    ___     ___   | | __   ___    ___   _ __     ___   _ __</span></span>
<span class="line"><span>2021-02-14 23:39:52,386 [myid:] - INFO  [main:ZookeeperBanner@42] -    / /    / _ \\   / _ \\  | |/ /  / _ \\  / _ \\ | &#39;_ \\   / _ \\ | &#39;__|</span></span>
<span class="line"><span>2021-02-14 23:39:52,386 [myid:] - INFO  [main:ZookeeperBanner@42] -   / /__  | (_) | | (_) | |   &lt;  |  __/ |  __/ | |_) | |  __/ | |</span></span>
<span class="line"><span>2021-02-14 23:39:52,387 [myid:] - INFO  [main:ZookeeperBanner@42] -  /_____|  \\___/   \\___/  |_|\\_\\  \\___|  \\___| | .__/   \\___| |_|</span></span>
<span class="line"><span>2021-02-14 23:39:52,387 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               | |</span></span>
<span class="line"><span>2021-02-14 23:39:52,387 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               |_|</span></span>
<span class="line"><span>2021-02-14 23:39:52,387 [myid:] - INFO  [main:ZookeeperBanner@42] -</span></span>
<span class="line"><span>2021-02-14 23:39:52,428 [myid:] - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.6.2--803c7f1a12f85978cb049af5e4ef23bd8b688715, built on 09/04/2020 12:44 GMT</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然，这里需要我们首先配置好对应的 JAVA_HOME 等 jdk 的基本环境信息。</p><h1 id="链接到-zk" tabindex="-1"><a class="header-anchor" href="#链接到-zk"><span>链接到 zk</span></a></h1><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   cd D:\\tools\\zookeeper\\apache-zookeeper-3.6.2-bin\\bin</span></span>
<span class="line"><span>$   zkCli -server 127.0.0.1:2181</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>日志信息如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>2021-02-14 23:45:47,707 [myid:] - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.6.2--803c7f1a12f85978cb049af5e4ef23bd8b688715, built on 09/04/2020 12:44 GMT</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>JLine support is enabled</span></span>
<span class="line"><span>2021-02-14 23:45:48,066 [myid:127.0.0.1:2181] - INFO  [main-SendThread(127.0.0.1:2181):ClientCnxn$SendThread@1433] - Session establishment complete on server ieonline.microsoft.com/127.0.0.1:2181, session id = 0x100000714f00000, negotiated timeout = 30000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>WATCHER::</span></span>
<span class="line"><span></span></span>
<span class="line"><span>WatchedEvent state:SyncConnected type:None path:null</span></span>
<span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 0]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="简单命令" tabindex="-1"><a class="header-anchor" href="#简单命令"><span>简单命令</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$   help</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输入 help 可以查看对应的常见命令。</p><h3 id="查看" tabindex="-1"><a class="header-anchor" href="#查看"><span>查看</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 2] ls /</span></span>
<span class="line"><span>[zookeeper]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建" tabindex="-1"><a class="header-anchor" href="#创建"><span>创建</span></a></h3><p>接下来，通过运行 <code>create / zk_test my_data</code> 创建一个新的znode。</p><p>这将创建一个新的znode并将字符串“my_data”与该节点关联。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 3] create /zk_test my_data</span></span>
<span class="line"><span>Created /zk_test</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 4] ls /</span></span>
<span class="line"><span>[zk_test, zookeeper]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时，zk_test 文件夹已经被创建。</p><h3 id="get-读取数据" tabindex="-1"><a class="header-anchor" href="#get-读取数据"><span>get 读取数据</span></a></h3><p>可以通过 get 获取信息。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 6] get /zk_test</span></span>
<span class="line"><span>my_data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="set-设置数据" tabindex="-1"><a class="header-anchor" href="#set-设置数据"><span>set 设置数据</span></a></h3><p>可以通过 set 设置信息。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 7] set /zk_test new_info</span></span>
<span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 8] get /zk_test</span></span>
<span class="line"><span>new_info</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="delete-删除数据" tabindex="-1"><a class="header-anchor" href="#delete-删除数据"><span>delete 删除数据</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 9] delete /zk_test</span></span>
<span class="line"><span>[zk: 127.0.0.1:2181(CONNECTED) 10] ls /</span></span>
<span class="line"><span>[zookeeper]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="运行复制模式-replicated-的zookeeper" tabindex="-1"><a class="header-anchor" href="#运行复制模式-replicated-的zookeeper"><span>运行复制模式（Replicated ）的ZooKeeper</span></a></h1><p>以独立模式运行ZooKeeper便于评估，某些开发和测试。</p><p>但是在生产中，您应该在复制模式下运行ZooKeeper。</p><p>同一应用程序中的一组服务器复制称为仲裁，并且在复制模式下，仲裁中的所有服务器都具有相同配置文件的副本。</p><ul><li>笔记</li></ul><p>对于复制模式，<strong>至少需要三个服务器，并且强烈建议您使用奇数个服务器</strong>。</p><p>如果只有两台服务器，那么您将处于一种情况，如果其中一台服务器发生故障，则没有足够的计算机构成多数仲裁。</p><p>由于存在两个单点故障，因此两个服务器本来就不如单个服务器稳定。</p><h2 id="官方例子" tabindex="-1"><a class="header-anchor" href="#官方例子"><span>官方例子</span></a></h2><p>复制模式所需的 conf/zoo.cfg 文件类似于独立模式下使用的文件，但有一些区别。</p><p>这是一个例子：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>tickTime=2000</span></span>
<span class="line"><span>dataDir=/var/lib/zookeeper</span></span>
<span class="line"><span>clientPort=2181</span></span>
<span class="line"><span>initLimit=5</span></span>
<span class="line"><span>syncLimit=2</span></span>
<span class="line"><span>server.1=zoo1:2888:3888</span></span>
<span class="line"><span>server.2=zoo2:2888:3888</span></span>
<span class="line"><span>server.3=zoo3:2888:3888</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新条目initLimit是超时ZooKeeper用于限制仲裁中的ZooKeeper服务器必须连接到领导者的时间长度。</p><p>条目syncLimit限制服务器与领导者之间过时的距离。</p><p>对于这两个超时，您都可以使用tickTime指定时间单位。</p><p>在此示例中，initLimit的超时是5个滴答声，即2000毫秒/滴答声，即10秒。</p><p>表格 <code>server.X</code> 的条目列出了组成ZooKeeper服务的服务器。服务器启动时，它通过在数据目录中查找文件myid来知道它是哪台服务器。该文件包含ASCII的服务器号。</p><p>最后，记下每个服务器名称后的两个端口号：“2888”和“3888”。对等方使用前一个端口连接到其他对等方。这样的连接是必要的，以便对等方可以进行通信，例如，同意更新顺序。更具体地说，ZooKeeper服务器使用此端口将关注者连接到领导者。当出现新的领导者时，跟随者使用此端口打开与领导者的TCP连接。</p><p>因为默认的领导者选举也使用TCP，所以我们当前需要另一个端口来进行领导者选举。这是服务器条目中的第二个端口。</p><p>ps: 一个端口负责基本的通信；另一个端口，用于领导者选举。</p><ul><li>笔记</li></ul><p>如果要在一台计算机上测试多台服务器，请为每台服务器指定服务器名称为localhost，并具有唯一的仲裁和领导者选择端口（例如，在上面的示例中为2888：3888、2889：3889、2890：3890）。配置文件。当然，也需要单独的_dataDir_s和不同的_clientPort_s（在上面的复制示例中，在单个本地主机上运行，​​您仍然会有三个配置文件）。</p><p>请注意，在一台计算机上设置多个服务器不会产生任何冗余。如果发生某些事情导致机器死机，则所有zookeeper服务器都将处于脱机状态。完全冗余要求每个服务器都有自己的计算机。它必须是完全独立的物理服务器。同一物理主机上的多个虚拟机仍然容易受到该主机完全故障的影响。</p><p>如果ZooKeeper机器中有多个网络接口，则还可以指示ZooKeeper绑定所有接口，并在网络出现故障时自动切换到正常接口。</p><h1 id="其他优化" tabindex="-1"><a class="header-anchor" href="#其他优化"><span>其他优化</span></a></h1><p>还有几个其他配置参数可以大大提高性能：</p><p>为了获得较低的更新延迟，拥有专用的事务日志目录非常重要。</p><p>默认情况下，事务日志与数据快照和myid文件放在同一目录中。</p><p>dataLogDir参数指示用于事务日志的其他目录。</p><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1><p><a href="https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html" target="_blank" rel="noopener noreferrer">https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html</a></p>`,98)]))}const d=s(p,[["render",r]]),c=JSON.parse('{"path":"/posts/zookeeper/2016-09-25-zookeeper-02-get-started.html","title":"ZooKeeper-02-快速开始","lang":"zh-CN","frontmatter":{"title":"ZooKeeper-02-快速开始","date":"2016-09-25T00:00:00.000Z","categories":["Apache"],"tags":["zookeeper","config-center"],"published":true,"description":"入门 使用ZooKeeper协调分布式应用程序 本文档包含使您快速开始使用ZooKeeper的信息。 它主要针对希望试用的开发人员，并包含单个ZooKeeper服务器的简单安装说明，一些验证其正在运行的命令以及一个简单的编程示例。 最后，为方便起见，有几节涉及更复杂的安装，例如，运行复制的部署以及优化事务日志。 但是，有关商业部署的完整说明，请参阅 《...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/blog-backend/posts/zookeeper/2016-09-25-zookeeper-02-get-started.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"ZooKeeper-02-快速开始"}],["meta",{"property":"og:description","content":"入门 使用ZooKeeper协调分布式应用程序 本文档包含使您快速开始使用ZooKeeper的信息。 它主要针对希望试用的开发人员，并包含单个ZooKeeper服务器的简单安装说明，一些验证其正在运行的命令以及一个简单的编程示例。 最后，为方便起见，有几节涉及更复杂的安装，例如，运行复制的部署以及优化事务日志。 但是，有关商业部署的完整说明，请参阅 《..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-22T03:45:14.000Z"}],["meta",{"property":"article:tag","content":"zookeeper"}],["meta",{"property":"article:tag","content":"config-center"}],["meta",{"property":"article:published_time","content":"2016-09-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-22T03:45:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ZooKeeper-02-快速开始\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2016-09-25T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-22T03:45:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1755834314000,"updatedTime":1755834314000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1}]},"readingTime":{"minutes":7.3,"words":2191},"filePathRelative":"posts/zookeeper/2016-09-25-zookeeper-02-get-started.md","localizedDate":"2016年9月25日","excerpt":"\\n<p>使用ZooKeeper协调分布式应用程序</p>\\n<p>本文档包含使您快速开始使用ZooKeeper的信息。</p>\\n<p>它主要针对希望试用的开发人员，并包含单个ZooKeeper服务器的简单安装说明，一些验证其正在运行的命令以及一个简单的编程示例。</p>\\n<p>最后，为方便起见，有几节涉及更复杂的安装，例如，运行复制的部署以及优化事务日志。</p>\\n<p>但是，有关商业部署的完整说明，请参阅 <a href=\\"https://zookeeper.apache.org/doc/r3.6.2/zookeeperAdmin.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">《ZooKeeper管理员指南》</a>。</p>","autoDesc":true}');export{d as comp,c as data};
