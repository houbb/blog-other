import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as s,o as p}from"./app-CEDSurVN.js";const i={};function t(r,a){return p(),n("div",null,a[0]||(a[0]=[s(`<h1 id="整体架构" tabindex="-1"><a class="header-anchor" href="#整体架构"><span>整体架构</span></a></h1><figure><img src="https://img-blog.csdnimg.cn/f993efc0dac2421484c1c56b2e5aac1e.png#pic_center" alt="整体架构" tabindex="0" loading="lazy"><figcaption>整体架构</figcaption></figure><h1 id="整体排期" tabindex="-1"><a class="header-anchor" href="#整体排期"><span>整体排期</span></a></h1><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>【项目立项】：应用申请 + GITLAB + DevOps流水线 + 数据库资源 + 网关</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【项目文档】：需求分析拆分 + 应用架构文档 + 接口文档 + 详细设计 + 微信技术调研</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【开发实现】：UI 切图 + 前端实现 + 后端实现 </span></span>
<span class="line"><span></span></span>
<span class="line"><span>【联调】：后后端联调 + 前后端联调</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【测试】：测试用例评审 + 接口测试 + 功能测试</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【上线迭代】：微信域名等配置 + 微信菜单配置 + 关注回复等</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="技术调研" tabindex="-1"><a class="header-anchor" href="#技术调研"><span>技术调研</span></a></h1><h2 id="鉴权" tabindex="-1"><a class="header-anchor" href="#鉴权"><span>鉴权</span></a></h2><p>微信的鉴权，初期前端逻辑存在缺陷，导致登录死循环。</p><p>解决方案：</p><p>帮助前端 REVIEW 代码，梳理流程图+实现验证。</p><p>后续对于前端复杂的流程，需要 CODE REVIEW 保证质量。</p><figure><img src="https://img-blog.csdnimg.cn/5d648f17293d44df93c84384eea46e17.png" alt="流程" tabindex="0" loading="lazy"><figcaption>流程</figcaption></figure><h2 id="小程序跳转" tabindex="-1"><a class="header-anchor" href="#小程序跳转"><span>小程序跳转</span></a></h2><p>openlink：可以通过这种方式优雅的打开</p><p>小程序编码：最简单的方式，一张小程序码，长按进入。</p><h2 id="消息推送" tabindex="-1"><a class="header-anchor" href="#消息推送"><span>消息推送</span></a></h2><p>消息模板样式审核周期长，样式和生产不一致。</p><h2 id="菜单打开小程序" tabindex="-1"><a class="header-anchor" href="#菜单打开小程序"><span>菜单打开小程序</span></a></h2><p>也需要跟进，不可大意。</p><h2 id="前端" tabindex="-1"><a class="header-anchor" href="#前端"><span>前端</span></a></h2><p>现象：并发请求时，如果接口间互相依赖，存在有时失败的情况。</p><p>解决方案：调整为串行，但是性能为下降。</p><p>反思：后续如果后端可以合并为一个接口的，尽量后端处理。</p><h1 id="ui-切图问题" tabindex="-1"><a class="header-anchor" href="#ui-切图问题"><span>UI 切图问题</span></a></h1><h2 id="_1-素材缺失" tabindex="-1"><a class="header-anchor" href="#_1-素材缺失"><span>（1）素材缺失</span></a></h2><p>对于无数据的场景缺失，比如绑卡列表为空。</p><p>全产品背景图等素材缺失，只提供了部分。</p><p>反思：后续素材出来之后，产品+技术一号位+前端研发都需要过一遍，确认没问题之后再让 UI 切图。</p><p>而不是后期返工，比较耗时间。</p><h2 id="_2-页面样式" tabindex="-1"><a class="header-anchor" href="#_2-页面样式"><span>（2）页面样式</span></a></h2><p>开发按照 UI 实现，但是页面不符合产品要求。</p><p>临时调整需求，无对应 UI 稿。</p><p>反思：后续时间紧急将不再受理此类样式优化需求。页面只有一个标准，那就是 UI 稿。同理需求的标准就是需求文档，要保证及时更新。</p><h2 id="_3-图片加载性能问题" tabindex="-1"><a class="header-anchor" href="#_3-图片加载性能问题"><span>（3）图片加载性能问题</span></a></h2><p>产品背景图较大，加载比较慢。</p><p>反思：获取素材切图以后，前端研发首先要进行一次图片压缩</p><h1 id="微信公众号的一些问题" tabindex="-1"><a class="header-anchor" href="#微信公众号的一些问题"><span>微信公众号的一些问题</span></a></h1><p>（1）JS 安全域名等问题。</p><p>因为以前项目踩过一次坑，直接移除剩下的域名，结果还是存在问题。</p><p>解决方案：已通过4级域名的方案解决。</p><p>反思：以后尽量先做确认，而不是思维定式。</p><p>（2）域名认证问题</p><p>微信的域名需要一个 xxx.txt 文件放在前端的根目录下</p><p>（3）微信页面缓存问题</p><p>经过实际认证，发现微信确实存在缓存问题。</p><p>需要前端打包添加指纹， nginx 添加 no cache 等</p><p><a href="https://blog.csdn.net/woyidingshijingcheng/article/details/89926990" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/woyidingshijingcheng/article/details/89926990</a></p><p>浅谈微信页面入口文件被缓存解决方案: <a href="https://www.jb51.net/article/148249.htm" target="_blank" rel="noopener noreferrer">https://www.jb51.net/article/148249.htm</a></p><ol start="4"><li>代码接口调用问题</li></ol><p>两个接口。</p><p>其中依赖另一个，有时候两个同时异步。</p><p>导致数据取不到，放在调用完成之后。</p><p>后续尽量改成让后端统一处理。</p><h1 id="系统问题" tabindex="-1"><a class="header-anchor" href="#系统问题"><span>系统问题</span></a></h1><p>问题描述：生产环境发现部分的手机无法访问，页面空白。</p><p>原因：IOS12 因为安全限制，禁止 header 配置为 <code>*</code></p><p>解决方案：指定配置</p><p><a href="https://blog.csdn.net/aloneiii/article/details/122122235" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/aloneiii/article/details/122122235</a></p><p>关于跨域请求无法在ios12中正常请求，并且返回状态码为0，后端日志未收到get/post请求，仅收到options请求。</p><p>如果你的请求是一个跨域请求，并且你手动添加了请求头，那么就是一个复杂请求，浏览器会先发送一个options请求进行预检（判断是否被服务器允许），预检失败则get/post请求不会正常发送，成功则继续。如果你后端在允许跨域时Access-Control-Allow-Headers: * ，使用了 * 通配符。</p><p>在ios12中，* 通配符被禁用，导致options预检时发现是通配符 *，禁止浏览器继续发送get/post请求，此时，请求结束，状态码为0。</p><p>解决办法：</p><p>1、后端Access-Control-Allow-Headers: * ，不使用通配符 * 。</p><p>2、前端 不添加请求头，就不会发送options请求。</p><p>3、请求不跨域也不会发送options请求</p><h1 id="数据问题" tabindex="-1"><a class="header-anchor" href="#数据问题"><span>数据问题</span></a></h1><p>没有考虑历史数据，存在一定的问题。</p><h1 id="qa" tabindex="-1"><a class="header-anchor" href="#qa"><span>QA</span></a></h1><h2 id="项目模式" tabindex="-1"><a class="header-anchor" href="#项目模式"><span>项目模式</span></a></h2><p>瀑布流，导致项目周期比较长。</p><p>可以分段提测，让测试早点接入。</p><h3 id="如何提升代码质量" tabindex="-1"><a class="header-anchor" href="#如何提升代码质量"><span>如何提升代码质量</span></a></h3><p>答：后端添加单元测试，保证流程通畅。前后端进行 CODE REIVEW，及时发现一些基本的问题。</p><h2 id="技术调研-1" tabindex="-1"><a class="header-anchor" href="#技术调研-1"><span>技术调研</span></a></h2><p>Q: 小程序跳转的问题，没有验证充分。</p><p>答：要验证功能的可行性。特别是全新的技术栈。</p><p>Q: 按照 UI 实现，但是效果不一致问题。</p><p>答：提前让产品+UI确认页面样式。</p><h2 id="产品遇到的问题" tabindex="-1"><a class="header-anchor" href="#产品遇到的问题"><span>产品遇到的问题</span></a></h2><p>Q：项目推进的比较慢，很多问题发现比较晚。</p><p>答：后期采用敏捷开发模式，让测试提前介入。页面样式等提前确认。</p><p>Q：页面图片失真+样式和 UI不同</p><p>答：提前让产品+UI确认页面样式。</p><p>Q：测试要有自己的验收标准，不要什么都找产品确认。</p><p>答：测试的验收标准应该是需求文档+UI设计稿。只有不确定的才和产品沟通。</p><p>Q：项目推进问题，不要搁置，会导致项目整体进度延迟。</p><p>答：后续项目问题，技术一号位应该及时跟进。至少给出一个解决方案，而不是放置不管。</p><h2 id="测试遇到的问题" tabindex="-1"><a class="header-anchor" href="#测试遇到的问题"><span>测试遇到的问题</span></a></h2><p>Q: 提测质量问题。</p><p>答：后端添加单元测试，保证流程通畅。前后端进行 CODE REIVEW，及时发现一些基本的问题。</p><p>Q: 产品的验收标准问题。</p><p>答：以 UI 和需求文档作为验收标准。</p><p>Q: 测试中的问题，进度。</p><p>答：群里整理一份文档，每天的问题都需要有一个的确认的结果。</p><p>Q: 集成没有发现的问题，生产发现了。</p><p>答：需要具体问题具体分析，还一些问题的原因。</p><h2 id="运营问题" tabindex="-1"><a class="header-anchor" href="#运营问题"><span>运营问题</span></a></h2><p>答：后续尽量早一点儿上线。避免白天精力不足。</p>`,97)]))}const d=e(i,[["render",t]]),o=JSON.parse('{"path":"/posts/Project/2023-02-28-project-fupan-03-wxpa-web.html","title":"项目复盘梳理-03-公众号开发实战","lang":"zh-CN","frontmatter":{"title":"项目复盘梳理-03-公众号开发实战","date":"2023-02-13T00:00:00.000Z","categories":["Project"],"tags":["in-actions","project","data-migrate","sh"],"published":false,"description":"整体架构 整体架构整体架构 整体排期 技术调研 鉴权 微信的鉴权，初期前端逻辑存在缺陷，导致登录死循环。 解决方案： 帮助前端 REVIEW 代码，梳理流程图+实现验证。 后续对于前端复杂的流程，需要 CODE REVIEW 保证质量。 流程流程 小程序跳转 openlink：可以通过这种方式优雅的打开 小程序编码：最简单的方式，一张小程序码，长按进入...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/blog-other/posts/Project/2023-02-28-project-fupan-03-wxpa-web.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"项目复盘梳理-03-公众号开发实战"}],["meta",{"property":"og:description","content":"整体架构 整体架构整体架构 整体排期 技术调研 鉴权 微信的鉴权，初期前端逻辑存在缺陷，导致登录死循环。 解决方案： 帮助前端 REVIEW 代码，梳理流程图+实现验证。 后续对于前端复杂的流程，需要 CODE REVIEW 保证质量。 流程流程 小程序跳转 openlink：可以通过这种方式优雅的打开 小程序编码：最简单的方式，一张小程序码，长按进入..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img-blog.csdnimg.cn/f993efc0dac2421484c1c56b2e5aac1e.png#pic_center"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-22T03:45:14.000Z"}],["meta",{"property":"article:tag","content":"in-actions"}],["meta",{"property":"article:tag","content":"project"}],["meta",{"property":"article:tag","content":"data-migrate"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:published_time","content":"2023-02-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-22T03:45:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"项目复盘梳理-03-公众号开发实战\\",\\"image\\":[\\"https://img-blog.csdnimg.cn/f993efc0dac2421484c1c56b2e5aac1e.png#pic_center\\",\\"https://img-blog.csdnimg.cn/5d648f17293d44df93c84384eea46e17.png\\"],\\"datePublished\\":\\"2023-02-13T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-22T03:45:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1755834314000,"updatedTime":1755834314000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1}]},"readingTime":{"minutes":5.43,"words":1629},"filePathRelative":"posts/Project/2023-02-28-project-fupan-03-wxpa-web.md","localizedDate":"2023年2月13日","excerpt":"\\n<figure><img src=\\"https://img-blog.csdnimg.cn/f993efc0dac2421484c1c56b2e5aac1e.png#pic_center\\" alt=\\"整体架构\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>整体架构</figcaption></figure>\\n<h1>整体排期</h1>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>【项目立项】：应用申请 + GITLAB + DevOps流水线 + 数据库资源 + 网关</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>【项目文档】：需求分析拆分 + 应用架构文档 + 接口文档 + 详细设计 + 微信技术调研</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>【开发实现】：UI 切图 + 前端实现 + 后端实现 </span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>【联调】：后后端联调 + 前后端联调</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>【测试】：测试用例评审 + 接口测试 + 功能测试</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>【上线迭代】：微信域名等配置 + 微信菜单配置 + 关注回复等</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{d as comp,o as data};
