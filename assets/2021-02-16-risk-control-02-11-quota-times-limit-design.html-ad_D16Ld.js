import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,a as t,o as n}from"./app-CEDSurVN.js";const r={};function s(h,a){return n(),p("div",null,a[0]||(a[0]=[t('<h1 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h1><p>限额限次作为最基础的累加</p><p>可以在这个基础上进行拓展，最核心的就是对应的规则引擎的能力，让其拥有更多的可拓展性的能力。</p><h1 id="整体架构" tabindex="-1"><a class="header-anchor" href="#整体架构"><span>整体架构</span></a></h1><p>RPC/HTTP业务系统匹配规则限额限次（实时）加载mysql 配置限额限次（控台）变更读取历史数据分布式数据库信息落库规则判断返回结果</p><h1 id="核心模块" tabindex="-1"><a class="header-anchor" href="#核心模块"><span>核心模块</span></a></h1><h2 id="流程引擎" tabindex="-1"><a class="header-anchor" href="#流程引擎"><span>流程引擎</span></a></h2><p>这个可以用类似于 <a href="https://houbb.github.io/2020/05/26/workflow-engine-00-overview" target="_blank" rel="noopener noreferrer">工作流引擎-00-流程引擎（Process Engine）概览 overview</a> 实现页面的可视化。</p><p>当然，一般都是大材小用。</p><p>主要就是2个部分：准入条件+决策部分。</p><h3 id="准入条件" tabindex="-1"><a class="header-anchor" href="#准入条件"><span>准入条件</span></a></h3><p>可以使用规则引擎</p><p>checkpoint 核心的场景码+检测点</p><h3 id="决策部分" tabindex="-1"><a class="header-anchor" href="#决策部分"><span>决策部分</span></a></h3><p>黑白名单</p><p>限额限次</p><p>规则引擎</p><p>功能开关</p><p>大模型</p><h2 id="系统配置" tabindex="-1"><a class="header-anchor" href="#系统配置"><span>系统配置</span></a></h2><p>内置的系统核心属性</p><p>参数配置</p><p>响应编码等</p><h2 id="业务配置" tabindex="-1"><a class="header-anchor" href="#业务配置"><span>业务配置</span></a></h2><p>针对不同的业务</p><ul><li>业务线/机构</li><li>业务枚举</li><li>业务常量/列表 等等</li></ul><h2 id="指标" tabindex="-1"><a class="header-anchor" href="#指标"><span>指标</span></a></h2><p>业务维度（名称==jsonPath）</p><p>流量累加（实时的流量累加，某种角度而言，和日志的流处理比较相似）</p><p>所以其实使用 vm 还是比较适合的。</p><h2 id="规则" tabindex="-1"><a class="header-anchor" href="#规则"><span>规则</span></a></h2><p>指标的复合使用</p><p>审核流程</p><p>试运行</p><p>命中记录</p><hr><h1 id="流-批" tabindex="-1"><a class="header-anchor" href="#流-批"><span>流 &amp; 批</span></a></h1><h2 id="流" tabindex="-1"><a class="header-anchor" href="#流"><span>流</span></a></h2><p>日志：准入条件（规则引擎、正则、包含等等）</p><p>label 提取：aviator 表达式、json-path 等等、函数？</p><p>累加：值固定值，表达式</p><h2 id="批" tabindex="-1"><a class="header-anchor" href="#批"><span>批</span></a></h2><p>CAT：http 采集</p><p>SQL: 定时执行</p><p>普米：自己实际研究玩一下</p><hr><h1 id="加一点细节" tabindex="-1"><a class="header-anchor" href="#加一点细节"><span>加一点细节</span></a></h1><h2 id="流程" tabindex="-1"><a class="header-anchor" href="#流程"><span>流程</span></a></h2><p>多级 Tree</p><p>规则引擎</p><p>activiti 等可视化流程引擎</p><p>route: 路由===》决策引擎</p><h2 id="参数" tabindex="-1"><a class="header-anchor" href="#参数"><span>参数</span></a></h2><p>通用枚举</p><p>机构编码等</p><h2 id="指标-1" tabindex="-1"><a class="header-anchor" href="#指标-1"><span>指标</span></a></h2><p>基础指标：准入+提取+value值</p><p>衍生指标：各种计算+运算</p><h3 id="来源" tabindex="-1"><a class="header-anchor" href="#来源"><span>来源</span></a></h3><p>业务维度---请求参数---json-path</p><p>日志/SQL/CAT/普米</p><h2 id="函数拓展" tabindex="-1"><a class="header-anchor" href="#函数拓展"><span>函数拓展</span></a></h2><p>内置的函数</p><p>允许用户自定义 http/dubbo 等</p><h2 id="规则-1" tabindex="-1"><a class="header-anchor" href="#规则-1"><span>规则</span></a></h2><p>基本信息</p><p>版本控制</p><p>审批流</p><p>规则引擎---指标运算【操作符】【阈值】</p><p>条件---条件也可以进一步抽象</p><p>模拟/实际运行</p><h1 id="页面配置" tabindex="-1"><a class="header-anchor" href="#页面配置"><span>页面配置</span></a></h1><h2 id="基础" tabindex="-1"><a class="header-anchor" href="#基础"><span>基础</span></a></h2><p>指标-基础数据{time, label, value}</p><p>规则：拓展/复合</p><p>规则则</p><p>过滤条件、 时间、处理</p><h2 id="实时" tabindex="-1"><a class="header-anchor" href="#实时"><span>实时</span></a></h2><p>count / sum 累加</p><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1>',80)]))}const c=e(r,[["render",s]]),d=JSON.parse('{"path":"/posts/Biz/2021-02-16-risk-control-02-11-quota-times-limit-design.html","title":"风控限额限次系统设计-11-可拓展性设计","lang":"zh-CN","frontmatter":{"title":"风控限额限次系统设计-11-可拓展性设计","date":"2021-02-14T00:00:00.000Z","categories":["BIZ"],"tags":["biz","risk","sh"],"published":true,"description":"前言 限额限次作为最基础的累加 可以在这个基础上进行拓展，最核心的就是对应的规则引擎的能力，让其拥有更多的可拓展性的能力。 整体架构 RPC/HTTP业务系统匹配规则限额限次（实时）加载mysql 配置限额限次（控台）变更读取历史数据分布式数据库信息落库规则判断返回结果 核心模块 流程引擎 这个可以用类似于 工作流引擎-00-流程引擎（Process ...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/blog-other/posts/Biz/2021-02-16-risk-control-02-11-quota-times-limit-design.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"风控限额限次系统设计-11-可拓展性设计"}],["meta",{"property":"og:description","content":"前言 限额限次作为最基础的累加 可以在这个基础上进行拓展，最核心的就是对应的规则引擎的能力，让其拥有更多的可拓展性的能力。 整体架构 RPC/HTTP业务系统匹配规则限额限次（实时）加载mysql 配置限额限次（控台）变更读取历史数据分布式数据库信息落库规则判断返回结果 核心模块 流程引擎 这个可以用类似于 工作流引擎-00-流程引擎（Process ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-22T03:45:14.000Z"}],["meta",{"property":"article:tag","content":"biz"}],["meta",{"property":"article:tag","content":"risk"}],["meta",{"property":"article:tag","content":"sh"}],["meta",{"property":"article:published_time","content":"2021-02-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-22T03:45:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"风控限额限次系统设计-11-可拓展性设计\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-02-14T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-22T03:45:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1755834314000,"updatedTime":1755834314000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1}]},"readingTime":{"minutes":20.96,"words":6287},"filePathRelative":"posts/Biz/2021-02-16-risk-control-02-11-quota-times-limit-design.md","localizedDate":"2021年2月14日","excerpt":"\\n<p>限额限次作为最基础的累加</p>\\n<p>可以在这个基础上进行拓展，最核心的就是对应的规则引擎的能力，让其拥有更多的可拓展性的能力。</p>\\n<h1>整体架构</h1>\\n<p>RPC/HTTP业务系统匹配规则限额限次（实时）加载mysql 配置限额限次（控台）变更读取历史数据分布式数据库信息落库规则判断返回结果</p>\\n<h1>核心模块</h1>\\n<h2>流程引擎</h2>\\n<p>这个可以用类似于 <a href=\\"https://houbb.github.io/2020/05/26/workflow-engine-00-overview\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">工作流引擎-00-流程引擎（Process Engine）概览 overview</a> 实现页面的可视化。</p>","autoDesc":true}');export{c as comp,d as data};
